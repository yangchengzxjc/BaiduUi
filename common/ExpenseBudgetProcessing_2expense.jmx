<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.1.1 r1855137">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="测试计划" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.tearDown_on_shutdown">true</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">false</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
        <collectionProp name="Arguments.arguments"/>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    <hashTree>
      <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="HTTP请求默认值" enabled="true">
        <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
          <collectionProp name="Arguments.arguments"/>
        </elementProp>
        <stringProp name="HTTPSampler.domain">${serverUrl}</stringProp>
        <stringProp name="HTTPSampler.port"></stringProp>
        <stringProp name="HTTPSampler.protocol">${protocol}</stringProp>
        <stringProp name="HTTPSampler.contentEncoding"></stringProp>
        <stringProp name="HTTPSampler.path"></stringProp>
        <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
        <stringProp name="HTTPSampler.connect_timeout">1500000</stringProp>
        <stringProp name="HTTPSampler.response_timeout">1500000</stringProp>
      </ConfigTestElement>
      <hashTree/>
      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
        <collectionProp name="HeaderManager.headers">
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Content-Type</stringProp>
            <stringProp name="Header.value">application/json</stringProp>
          </elementProp>
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Authorization</stringProp>
            <stringProp name="Header.value">Bearer ${accessToken}</stringProp>
          </elementProp>
        </collectionProp>
      </HeaderManager>
      <hashTree/>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="费用申请单预算处理-预算取${expenseTypeName}" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType;apFormName</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apformName}&quot;)].formOID;$..[?(@.formName==&quot;${apformName}&quot;)].formId;$..[?(@.formName==&quot;${apformName}&quot;)].formType;$..[?(@.formName==&quot;${apformName}&quot;)].formName</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
          </JSONPostProcessor>
          <hashTree/>
          <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
            <collectionProp name="Asserion.test_strings">
              <stringProp name="49586">200</stringProp>
            </collectionProp>
            <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
            <boolProp name="Assertion.assume_success">false</boolProp>
            <intProp name="Assertion.test_type">8</intProp>
            <stringProp name="Assertion.custom_message"></stringProp>
          </ResponseAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="false">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">fieldName</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default">Not found</stringProp>
            <stringProp name="RegexExtractor.match_number">-1</stringProp>
          </RegexExtractor>
          <hashTree/>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="false">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default">Not found</stringProp>
            <stringProp name="RegexExtractor.match_number">1</stringProp>
          </RegexExtractor>
          <hashTree/>
          <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
            <collectionProp name="Asserion.test_strings">
              <stringProp name="49586">200</stringProp>
            </collectionProp>
            <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
            <boolProp name="Assertion.assume_success">false</boolProp>
            <intProp name="Assertion.test_type">8</intProp>
            <stringProp name="Assertion.custom_message"></stringProp>
          </ResponseAssertion>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型取${expenseTypeName1}" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
            <collectionProp name="Asserion.test_strings">
              <stringProp name="49586">200</stringProp>
            </collectionProp>
            <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
            <boolProp name="Assertion.assume_success">false</boolProp>
            <intProp name="Assertion.test_type">8</intProp>
            <stringProp name="Assertion.custom_message"></stringProp>
          </ResponseAssertion>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);


String baseAmount=vars.get(&quot;apamount&quot;);


String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;Budget==========&quot;+aa);
vars.put(&quot;Budget&quot;,aa);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型1" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID1;canyinexpenseTypeCategoryOID1;iconURL1;expenseTypeName1</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeCategoryOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].name</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型2" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID2;canyinexpenseTypeCategoryOID2;iconURL2;expenseTypeName2</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName2}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].expenseTypeCategoryOID;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].name</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理2个预算" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String Amount=vars.get(&quot;apamount&quot;);
String baseAmount1=vars.get(&quot;baseAmount1&quot;);
String baseAmount2=vars.get(&quot;baseAmount2&quot;);


//String Amount=&quot;200&quot;;
//String baseAmount1=&quot;150&quot;;
//String baseAmount2=&quot;50&quot;;


//预算1的费用行
String canyinexpenseTypeOID1=vars.get(&quot;canyinexpenseTypeOID1&quot;);
String expenseTypeName1=vars.get(&quot;expenseTypeName1&quot;);
String iconURL1=vars.get(&quot;iconURL1&quot;);

//预算2的费用行
String canyinexpenseTypeOID2=vars.get(&quot;canyinexpenseTypeOID2&quot;);
String expenseTypeName2=vars.get(&quot;expenseTypeName2&quot;);
String iconURL2=vars.get(&quot;iconURL2&quot;);




String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName1+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL1+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID1+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL1+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount1+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount1+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0},{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName2+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL2+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID2+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL2+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount2+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount2+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+Amount+&quot;}&quot;;






log.info(&quot;预算信息==========&quot;+aa);
vars.put(&quot;Budget&quot;,aa);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型1" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID1;canyinexpenseTypeCategoryOID1;iconURL1;expenseTypeName1</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeCategoryOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].name</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型2" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID2;canyinexpenseTypeCategoryOID2;iconURL2;expenseTypeName2</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName2}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].expenseTypeCategoryOID;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].name</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理2个预算" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String Amount=vars.get(&quot;apamount&quot;);
String baseAmount1=vars.get(&quot;baseAmount1&quot;);
String baseAmount2=vars.get(&quot;baseAmount2&quot;);


//String Amount=&quot;200&quot;;
//String baseAmount1=&quot;150&quot;;
//String baseAmount2=&quot;50&quot;;


//预算1的费用行
String canyinexpenseTypeOID1=vars.get(&quot;canyinexpenseTypeOID1&quot;);
String expenseTypeName1=vars.get(&quot;expenseTypeName1&quot;);
String iconURL1=vars.get(&quot;iconURL1&quot;);

//预算2的费用行
String canyinexpenseTypeOID2=vars.get(&quot;canyinexpenseTypeOID2&quot;);
String expenseTypeName2=vars.get(&quot;expenseTypeName2&quot;);
String iconURL2=vars.get(&quot;iconURL2&quot;);




String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName1+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL1+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID1+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL1+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount1+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount1+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0},{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName2+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL2+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID2+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL2+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount2+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount2+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+Amount+&quot;}&quot;;






log.info(&quot;预算信息==========&quot;+aa);
vars.put(&quot;Budget&quot;,aa);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
      </hashTree>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
