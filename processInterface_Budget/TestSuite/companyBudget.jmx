<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.1.1 r1855137">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="预算" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">true</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="protocol" elementType="Argument">
            <stringProp name="Argument.name">protocol</stringProp>
            <stringProp name="Argument.value">${__P(protocol,https)}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="serviceURL" elementType="Argument">
            <stringProp name="Argument.name">serviceURL</stringProp>
            <stringProp name="Argument.value">${__P(serviceURL,stage.huilianyi.com)}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="username1" elementType="Argument">
            <stringProp name="Argument.name">username1</stringProp>
            <stringProp name="Argument.value">${__P(user1,18630000000)}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="username2" elementType="Argument">
            <stringProp name="Argument.name">username2</stringProp>
            <stringProp name="Argument.value">${__P(user1,18620000000)}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="username3" elementType="Argument">
            <stringProp name="Argument.name">username3</stringProp>
            <stringProp name="Argument.value">${__P(user1,18610000000)}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="username4" elementType="Argument">
            <stringProp name="Argument.name">username4</stringProp>
            <stringProp name="Argument.value">${__P(user1,18650000000)}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="password" elementType="Argument">
            <stringProp name="Argument.name">password</stringProp>
            <stringProp name="Argument.value">${__P(password,hly123456)}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    <hashTree>
      <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
        <boolProp name="ResultCollector.error_logging">false</boolProp>
        <objProp>
          <name>saveConfig</name>
          <value class="SampleSaveConfiguration">
            <time>true</time>
            <latency>true</latency>
            <timestamp>true</timestamp>
            <success>true</success>
            <label>true</label>
            <code>true</code>
            <message>true</message>
            <threadName>true</threadName>
            <dataType>true</dataType>
            <encoding>false</encoding>
            <assertions>true</assertions>
            <subresults>true</subresults>
            <responseData>false</responseData>
            <samplerData>false</samplerData>
            <xml>false</xml>
            <fieldNames>true</fieldNames>
            <responseHeaders>false</responseHeaders>
            <requestHeaders>false</requestHeaders>
            <responseDataOnError>false</responseDataOnError>
            <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
            <assertionsResultsToSave>0</assertionsResultsToSave>
            <bytes>true</bytes>
            <sentBytes>true</sentBytes>
            <threadCounts>true</threadCounts>
            <idleTime>true</idleTime>
            <connectTime>true</connectTime>
          </value>
        </objProp>
        <stringProp name="filename"></stringProp>
      </ResultCollector>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="表单名称" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="applicationForm001" elementType="Argument">
            <stringProp name="Argument.name">applicationForm001</stringProp>
            <stringProp name="Argument.value">预算费用申请单</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="applicationForm002" elementType="Argument">
            <stringProp name="Argument.name">applicationForm002</stringProp>
            <stringProp name="Argument.value">预算差旅申请单</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="applicationForm003" elementType="Argument">
            <stringProp name="Argument.name">applicationForm003</stringProp>
            <stringProp name="Argument.value">预算费用申请单_成本中心分摊</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="expenseForm001" elementType="Argument">
            <stringProp name="Argument.name">expenseForm001</stringProp>
            <stringProp name="Argument.value">预算日常报销单</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="expenseForm002" elementType="Argument">
            <stringProp name="Argument.name">expenseForm002</stringProp>
            <stringProp name="Argument.value">预算费用报销单</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="expenseForm003" elementType="Argument">
            <stringProp name="Argument.name">expenseForm003</stringProp>
            <stringProp name="Argument.value">预算差旅报销单</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="expenseForm004" elementType="Argument">
            <stringProp name="Argument.name">expenseForm004</stringProp>
            <stringProp name="Argument.value">预算费用报销单_成本中心分摊</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="组织架构" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="Authorization" elementType="Argument">
            <stringProp name="Argument.name">Authorization</stringProp>
            <stringProp name="Argument.value">Basic QXJ0ZW1pc1dlQ2hhdDpuTENud2RJaGl6V2J5a0h5dVpNNlRwUURkN0t3SzlJWERLOExHc2E3U09X</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="books" elementType="Argument">
            <stringProp name="Argument.name">books</stringProp>
            <stringProp name="Argument.value">默认账套</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="books1" elementType="Argument">
            <stringProp name="Argument.name">books1</stringProp>
            <stringProp name="Argument.value">账套001</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="books2" elementType="Argument">
            <stringProp name="Argument.name">books2</stringProp>
            <stringProp name="Argument.value">账套002</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="company" elementType="Argument">
            <stringProp name="Argument.name">company</stringProp>
            <stringProp name="Argument.value">公司预算有限公司</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">公司预算公司名称</stringProp>
          </elementProp>
          <elementProp name="company001" elementType="Argument">
            <stringProp name="Argument.name">company001</stringProp>
            <stringProp name="Argument.value">部门预算有限公司</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">部门预算公司名称</stringProp>
          </elementProp>
          <elementProp name="company002" elementType="Argument">
            <stringProp name="Argument.name">company002</stringProp>
            <stringProp name="Argument.value">员工预算有限公司</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">员工预算公司名称</stringProp>
          </elementProp>
          <elementProp name="company003" elementType="Argument">
            <stringProp name="Argument.name">company003</stringProp>
            <stringProp name="Argument.value">公司003</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="department" elementType="Argument">
            <stringProp name="Argument.name">department</stringProp>
            <stringProp name="Argument.value">公司预算部门</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="department001" elementType="Argument">
            <stringProp name="Argument.name">department001</stringProp>
            <stringProp name="Argument.value">公司预算部门1</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">公司预算部门1</stringProp>
          </elementProp>
          <elementProp name="department002" elementType="Argument">
            <stringProp name="Argument.name">department002</stringProp>
            <stringProp name="Argument.value">公司预算部门2</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">公司预算部门2</stringProp>
          </elementProp>
          <elementProp name="department003" elementType="Argument">
            <stringProp name="Argument.name">department003</stringProp>
            <stringProp name="Argument.value">部门预算部门1</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">部门预算占预算部门</stringProp>
          </elementProp>
          <elementProp name="department004" elementType="Argument">
            <stringProp name="Argument.name">department004</stringProp>
            <stringProp name="Argument.value">部门预算部门2</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">部门预算不占预算部门</stringProp>
          </elementProp>
          <elementProp name="department005" elementType="Argument">
            <stringProp name="Argument.name">department005</stringProp>
            <stringProp name="Argument.value">员工预算部门</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee" elementType="Argument">
            <stringProp name="Argument.name">employee</stringProp>
            <stringProp name="Argument.value">公司预算管理员</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee1" elementType="Argument">
            <stringProp name="Argument.name">employee1</stringProp>
            <stringProp name="Argument.value">部门预算管理员</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">部门预算admin</stringProp>
          </elementProp>
          <elementProp name="employee2" elementType="Argument">
            <stringProp name="Argument.name">employee2</stringProp>
            <stringProp name="Argument.value">员工预算管理员</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee3" elementType="Argument">
            <stringProp name="Argument.name">employee3</stringProp>
            <stringProp name="Argument.value">员工预算管理员</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee4" elementType="Argument">
            <stringProp name="Argument.name">employee4</stringProp>
            <stringProp name="Argument.value">预算员工2</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee5" elementType="Argument">
            <stringProp name="Argument.name">employee5</stringProp>
            <stringProp name="Argument.value">预算员工4</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="costCenter" elementType="Argument">
            <stringProp name="Argument.name">costCenter</stringProp>
            <stringProp name="Argument.value">项目</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="costCenterItem1" elementType="Argument">
            <stringProp name="Argument.name">costCenterItem1</stringProp>
            <stringProp name="Argument.value">成本中心项001</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="costCenterItem2" elementType="Argument">
            <stringProp name="Argument.name">costCenterItem2</stringProp>
            <stringProp name="Argument.value">成本中心项002</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="company01" elementType="Argument">
            <stringProp name="Argument.name">company01</stringProp>
            <stringProp name="Argument.value">预算有限公司</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="company02" elementType="Argument">
            <stringProp name="Argument.name">company02</stringProp>
            <stringProp name="Argument.value">预算有子公司</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="department01" elementType="Argument">
            <stringProp name="Argument.name">department01</stringProp>
            <stringProp name="Argument.value">预算部门1</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="department02" elementType="Argument">
            <stringProp name="Argument.name">department02</stringProp>
            <stringProp name="Argument.value">预算部门2</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee01" elementType="Argument">
            <stringProp name="Argument.name">employee01</stringProp>
            <stringProp name="Argument.value">预算员工1</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee02" elementType="Argument">
            <stringProp name="Argument.name">employee02</stringProp>
            <stringProp name="Argument.value">预算员工2</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee03" elementType="Argument">
            <stringProp name="Argument.name">employee03</stringProp>
            <stringProp name="Argument.value">预算员工3</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee04" elementType="Argument">
            <stringProp name="Argument.name">employee04</stringProp>
            <stringProp name="Argument.value">预算员工4</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="employee05" elementType="Argument">
            <stringProp name="Argument.name">employee05</stringProp>
            <stringProp name="Argument.value">预算员工5</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="费用类型" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="expenseType001" elementType="Argument">
            <stringProp name="Argument.name">expenseType001</stringProp>
            <stringProp name="Argument.value">YS出租车</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="expenseType002" elementType="Argument">
            <stringProp name="Argument.name">expenseType002</stringProp>
            <stringProp name="Argument.value">机票</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="expenseType003" elementType="Argument">
            <stringProp name="Argument.name">expenseType003</stringProp>
            <stringProp name="Argument.value">大巴</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="currency" elementType="Argument">
            <stringProp name="Argument.name">currency</stringProp>
            <stringProp name="Argument.value">CNY</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="tax" elementType="Argument">
            <stringProp name="Argument.name">tax</stringProp>
            <stringProp name="Argument.value">消费税10%截尾法</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="currencyCodeName" elementType="Argument">
            <stringProp name="Argument.name">currencyCodeName</stringProp>
            <stringProp name="Argument.value">Japanese Yen</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="setOfBooks" elementType="Argument">
            <stringProp name="Argument.name">setOfBooks</stringProp>
            <stringProp name="Argument.value">默认账套</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="预算配置" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="YSORG001" elementType="Argument">
            <stringProp name="Argument.name">YSORG001</stringProp>
            <stringProp name="Argument.value">公司预算组织</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSORG002" elementType="Argument">
            <stringProp name="Argument.name">YSORG002</stringProp>
            <stringProp name="Argument.value">部门预算组织</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSORG003" elementType="Argument">
            <stringProp name="Argument.name">YSORG003</stringProp>
            <stringProp name="Argument.value">员工预算组织</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSVN001" elementType="Argument">
            <stringProp name="Argument.name">YSVN001</stringProp>
            <stringProp name="Argument.value">公司预算_当前版本</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSVN002" elementType="Argument">
            <stringProp name="Argument.name">YSVN002</stringProp>
            <stringProp name="Argument.value">部门预算_当前版本</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSVN003" elementType="Argument">
            <stringProp name="Argument.name">YSVN003</stringProp>
            <stringProp name="Argument.value">员工预算_当前版本</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSSCR001" elementType="Argument">
            <stringProp name="Argument.name">YSSCR001</stringProp>
            <stringProp name="Argument.value">公司预算场景</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSSCR002" elementType="Argument">
            <stringProp name="Argument.name">YSSCR002</stringProp>
            <stringProp name="Argument.value">部门预算场景</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSSCR003" elementType="Argument">
            <stringProp name="Argument.name">YSSCR003</stringProp>
            <stringProp name="Argument.value">员工预算场景</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSJNType001" elementType="Argument">
            <stringProp name="Argument.name">YSJNType001</stringProp>
            <stringProp name="Argument.value">公司预算日记账类型</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSJNType002" elementType="Argument">
            <stringProp name="Argument.name">YSJNType002</stringProp>
            <stringProp name="Argument.value">部门预算日记账类型</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSJNType003" elementType="Argument">
            <stringProp name="Argument.name">YSJNType003</stringProp>
            <stringProp name="Argument.value">员工预算日记账类型</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSstructure001" elementType="Argument">
            <stringProp name="Argument.name">YSstructure001</stringProp>
            <stringProp name="Argument.value">公司预算表</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSstructure002" elementType="Argument">
            <stringProp name="Argument.name">YSstructure002</stringProp>
            <stringProp name="Argument.value">部门预算表</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSstructure003" elementType="Argument">
            <stringProp name="Argument.name">YSstructure003</stringProp>
            <stringProp name="Argument.value">员工预算表</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSProduct001" elementType="Argument">
            <stringProp name="Argument.name">YSProduct001</stringProp>
            <stringProp name="Argument.value">公司预算项目</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSProduct002" elementType="Argument">
            <stringProp name="Argument.name">YSProduct002</stringProp>
            <stringProp name="Argument.value">部门预算项目</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSProduct003" elementType="Argument">
            <stringProp name="Argument.name">YSProduct003</stringProp>
            <stringProp name="Argument.value">员工预算项目</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSORG000" elementType="Argument">
            <stringProp name="Argument.name">YSORG000</stringProp>
            <stringProp name="Argument.value">YS_ORG_0001</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSVN000" elementType="Argument">
            <stringProp name="Argument.name">YSVN000</stringProp>
            <stringProp name="Argument.value">预算_当前版本</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSSCR000" elementType="Argument">
            <stringProp name="Argument.name">YSSCR000</stringProp>
            <stringProp name="Argument.value">预算场景</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSJNType000" elementType="Argument">
            <stringProp name="Argument.name">YSJNType000</stringProp>
            <stringProp name="Argument.value">日记账类型</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSstructure000" elementType="Argument">
            <stringProp name="Argument.name">YSstructure000</stringProp>
            <stringProp name="Argument.value">预算表</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="YSProduct000" elementType="Argument">
            <stringProp name="Argument.name">YSProduct000</stringProp>
            <stringProp name="Argument.value">预算项目</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="Semiannual" elementType="Argument">
            <stringProp name="Argument.name">Semiannual</stringProp>
            <stringProp name="Argument.value">下半年</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="预算日记账" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="periodName" elementType="Argument">
            <stringProp name="Argument.name">periodName</stringProp>
            <stringProp name="Argument.value">2019-YS_9</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">期间</stringProp>
          </elementProp>
          <elementProp name="periodYear" elementType="Argument">
            <stringProp name="Argument.name">periodYear</stringProp>
            <stringProp name="Argument.value">2019</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">年费</stringProp>
          </elementProp>
          <elementProp name="periodQuarter" elementType="Argument">
            <stringProp name="Argument.name">periodQuarter</stringProp>
            <stringProp name="Argument.value">3</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">季度</stringProp>
          </elementProp>
          <elementProp name="periodQuarterName" elementType="Argument">
            <stringProp name="Argument.name">periodQuarterName</stringProp>
            <stringProp name="Argument.value">3</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
            <stringProp name="Argument.desc">季度</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="预算提示信息中文版" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="forbidTip" elementType="Argument">
            <stringProp name="Argument.name">forbidTip</stringProp>
            <stringProp name="Argument.value">单据金额已超过当前可用预算,不能提交!请联系预算管理员</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="warnTip" elementType="Argument">
            <stringProp name="Argument.name">warnTip</stringProp>
            <stringProp name="Argument.value">单据金额超过当前可用预算的80%,是否确定提交</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="overApplication" elementType="Argument">
            <stringProp name="Argument.name">overApplication</stringProp>
            <stringProp name="Argument.value">关联金额超过申请金额，请检查</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <Arguments guiclass="ArgumentsPanel" testclass="Arguments" testname="提示信息中文版" enabled="true">
        <collectionProp name="Arguments.arguments">
          <elementProp name="bxSuccessful" elementType="Argument">
            <stringProp name="Argument.name">bxSuccessful</stringProp>
            <stringProp name="Argument.value">{&quot;passFlag&quot;:true,&quot;submitSuccess&quot;:true,&quot;checkResultList&quot;:[],&quot;needConfirm&quot;:false}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="bxSuccessful1" elementType="Argument">
            <stringProp name="Argument.name">bxSuccessful1</stringProp>
            <stringProp name="Argument.value">{&quot;passFlag&quot;:true,&quot;checkResultList&quot;:[]}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="SuccessSubmit" elementType="Argument">
            <stringProp name="Argument.name">SuccessSubmit</stringProp>
            <stringProp name="Argument.value">{&quot;passFlag&quot;:true,&quot;submitSuccess&quot;:true,&quot;checkResultList&quot;:[],&quot;needConfirm&quot;:false}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="approvalsSuccessful" elementType="Argument">
            <stringProp name="Argument.name">approvalsSuccessful</stringProp>
            <stringProp name="Argument.value">{&quot;successNum&quot;:1,&quot;failNum&quot;:0,&quot;failReason&quot;:{},&quot;transmitWarning&quot;:null}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="auditSuccessful" elementType="Argument">
            <stringProp name="Argument.name">auditSuccessful</stringProp>
            <stringProp name="Argument.value">{&quot;successNum&quot;:1,&quot;failNum&quot;:0,&quot;failReason&quot;:{},&quot;transmitWarning&quot;:null}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
          <elementProp name="withdrawSuccessful" elementType="Argument">
            <stringProp name="Argument.name">withdrawSuccessful</stringProp>
            <stringProp name="Argument.value">{&quot;successNum&quot;:1,&quot;failNum&quot;:0,&quot;failReason&quot;:{},&quot;transmitWarning&quot;:null}</stringProp>
            <stringProp name="Argument.metadata">=</stringProp>
          </elementProp>
        </collectionProp>
      </Arguments>
      <hashTree/>
      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
        <collectionProp name="HeaderManager.headers">
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Authorization</stringProp>
            <stringProp name="Header.value">Bearer ${accessToken}</stringProp>
          </elementProp>
          <elementProp name="Content-Type" elementType="Header">
            <stringProp name="Header.name">Content-Type</stringProp>
            <stringProp name="Header.value">application/json</stringProp>
          </elementProp>
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">x-helios-client</stringProp>
            <stringProp name="Header.value">helios-jemter</stringProp>
          </elementProp>
        </collectionProp>
      </HeaderManager>
      <hashTree/>
      <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="HTTP请求默认值" enabled="true">
        <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
          <collectionProp name="Arguments.arguments"/>
        </elementProp>
        <stringProp name="HTTPSampler.domain">${serviceURL}</stringProp>
        <stringProp name="HTTPSampler.port"></stringProp>
        <stringProp name="HTTPSampler.protocol">${protocol}</stringProp>
        <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
        <stringProp name="HTTPSampler.path"></stringProp>
        <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
        <stringProp name="HTTPSampler.connect_timeout"></stringProp>
        <stringProp name="HTTPSampler.response_timeout"></stringProp>
      </ConfigTestElement>
      <hashTree/>
      <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="获取日期" enabled="true">
        <stringProp name="filename"></stringProp>
        <stringProp name="parameters"></stringProp>
        <boolProp name="resetInterpreter">false</boolProp>
        <stringProp name="script">import java.text.SimpleDateFormat;
import java.util.Date;

Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE, 0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
String today = formatter.format(date);
vars.put(&quot;today&quot;, today);

Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE, 1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
String today = formatter.format(date);
vars.put(&quot;nextday&quot;, today);</stringProp>
      </BeanShellPreProcessor>
      <hashTree/>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="预算登录登" enabled="true">
        <stringProp name="TestPlan.comments">公司预算登录登</stringProp>
      </TestFragmentController>
      <hashTree>
        <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
          <collectionProp name="HeaderManager.headers">
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Authorization</stringProp>
              <stringProp name="Header.value">${Authorization}</stringProp>
            </elementProp>
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Content-Type</stringProp>
              <stringProp name="Header.value">application/x-www-form-urlencoded</stringProp>
            </elementProp>
          </collectionProp>
        </HeaderManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="获得相关时间" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.*;

import java.text.SimpleDateFormat;
import java.util.Date;

Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE, 0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;NewBJstartDate&quot;,localTime);
SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
Date localDate= null;
try {
localDate = sdf.parse(localTime);
} catch (ParseException e) {
e.printStackTrace();
}
long localTimeInMillis=localDate.getTime();
/** long时间转换成Calendar */
Calendar calendar= Calendar.getInstance();
calendar.setTimeInMillis(localTimeInMillis);
/** 取得时间偏移量 */
int zoneOffset = calendar.get(java.util.Calendar.ZONE_OFFSET);
/** 取得夏令时差 */
int dstOffset = calendar.get(java.util.Calendar.DST_OFFSET);
/** 从本地时间里扣除这些差量，即可以取得UTC时间*/
calendar.add(java.util.Calendar.MILLISECOND, -(zoneOffset + dstOffset));
/** 取得的时间就是UTC标准时间 */
Date utcDate=new Date(calendar.getTimeInMillis());


SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;);
Date date = new Date();
String startDate = formatter.format(utcDate);
log.info(&quot;需要修改的UTC开始日期是&quot;+startDate);
vars.put(&quot;NewUTCstartDate&quot;,startDate);



Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,-1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;YestDay&quot;,localTime);


SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
Date localDate= null;
try {
localDate = sdf.parse(localTime);
} catch (ParseException e) {
e.printStackTrace();
}
long localTimeInMillis=localDate.getTime();
/** long时间转换成Calendar */
Calendar calendar= Calendar.getInstance();
calendar.setTimeInMillis(localTimeInMillis);
/** 取得时间偏移量 */
int zoneOffset = calendar.get(java.util.Calendar.ZONE_OFFSET);
/** 取得夏令时差 */
int dstOffset = calendar.get(java.util.Calendar.DST_OFFSET);
/** 从本地时间里扣除这些差量，即可以取得UTC时间*/
calendar.add(java.util.Calendar.MILLISECOND, -(zoneOffset + dstOffset));
/** 取得的时间就是UTC标准时间 */
Date utcDate=new Date(calendar.getTimeInMillis());




SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;);
Date date = new Date();
String startDate = formatter.format(utcDate);
log.info(&quot;需要修改的UTC截止日期是&quot;+startDate);
vars.put(&quot;NewUTCYestDay&quot;,startDate);


Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
String localTime = formatter.format(date);
vars.put(&quot;startDate&quot;,localTime);


Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;NewBJEndDate&quot;,localTime);


</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="预算管理员登录" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="username" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">${username4}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">username</stringProp>
              </elementProp>
              <elementProp name="password" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">${password}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">password</stringProp>
              </elementProp>
              <elementProp name="grant_type" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">password</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">grant_type</stringProp>
              </elementProp>
              <elementProp name="scope" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">read write</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">scope</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
          <stringProp name="HTTPSampler.path">/oauth/token</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="accessToken" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">accessToken</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;access_token&quot;:&quot;(.+?)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">0</stringProp>
          </RegexExtractor>
          <hashTree/>
          <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
            <collectionProp name="Asserion.test_strings">
              <stringProp name="49586">200</stringProp>
            </collectionProp>
            <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
            <boolProp name="Assertion.assume_success">false</boolProp>
            <intProp name="Assertion.test_type">8</intProp>
            <stringProp name="Assertion.custom_message"></stringProp>
          </ResponseAssertion>
          <hashTree/>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="公司预算登录登" enabled="true">
        <stringProp name="TestPlan.comments">公司预算登录登</stringProp>
      </TestFragmentController>
      <hashTree>
        <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
          <collectionProp name="HeaderManager.headers">
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Authorization</stringProp>
              <stringProp name="Header.value">${Authorization}</stringProp>
            </elementProp>
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Content-Type</stringProp>
              <stringProp name="Header.value">application/x-www-form-urlencoded</stringProp>
            </elementProp>
          </collectionProp>
        </HeaderManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="获得相关时间" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.*;

import java.text.SimpleDateFormat;
import java.util.Date;

Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE, 0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;NewBJstartDate&quot;,localTime);
SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
Date localDate= null;
try {
localDate = sdf.parse(localTime);
} catch (ParseException e) {
e.printStackTrace();
}
long localTimeInMillis=localDate.getTime();
/** long时间转换成Calendar */
Calendar calendar= Calendar.getInstance();
calendar.setTimeInMillis(localTimeInMillis);
/** 取得时间偏移量 */
int zoneOffset = calendar.get(java.util.Calendar.ZONE_OFFSET);
/** 取得夏令时差 */
int dstOffset = calendar.get(java.util.Calendar.DST_OFFSET);
/** 从本地时间里扣除这些差量，即可以取得UTC时间*/
calendar.add(java.util.Calendar.MILLISECOND, -(zoneOffset + dstOffset));
/** 取得的时间就是UTC标准时间 */
Date utcDate=new Date(calendar.getTimeInMillis());


SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;);
Date date = new Date();
String startDate = formatter.format(utcDate);
log.info(&quot;需要修改的UTC开始日期是&quot;+startDate);
vars.put(&quot;NewUTCstartDate&quot;,startDate);



Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,-1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;YestDay&quot;,localTime);


SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
Date localDate= null;
try {
localDate = sdf.parse(localTime);
} catch (ParseException e) {
e.printStackTrace();
}
long localTimeInMillis=localDate.getTime();
/** long时间转换成Calendar */
Calendar calendar= Calendar.getInstance();
calendar.setTimeInMillis(localTimeInMillis);
/** 取得时间偏移量 */
int zoneOffset = calendar.get(java.util.Calendar.ZONE_OFFSET);
/** 取得夏令时差 */
int dstOffset = calendar.get(java.util.Calendar.DST_OFFSET);
/** 从本地时间里扣除这些差量，即可以取得UTC时间*/
calendar.add(java.util.Calendar.MILLISECOND, -(zoneOffset + dstOffset));
/** 取得的时间就是UTC标准时间 */
Date utcDate=new Date(calendar.getTimeInMillis());




SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;);
Date date = new Date();
String startDate = formatter.format(utcDate);
log.info(&quot;需要修改的UTC截止日期是&quot;+startDate);
vars.put(&quot;NewUTCYestDay&quot;,startDate);


Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
String localTime = formatter.format(date);
vars.put(&quot;startDate&quot;,localTime);


Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;NewBJEndDate&quot;,localTime);


</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="公司预算管理员登录" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="username" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">${username1}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">username</stringProp>
              </elementProp>
              <elementProp name="password" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">${password}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">password</stringProp>
              </elementProp>
              <elementProp name="grant_type" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">password</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">grant_type</stringProp>
              </elementProp>
              <elementProp name="scope" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">read write</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">scope</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
          <stringProp name="HTTPSampler.path">/oauth/token</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="accessToken" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">accessToken</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;access_token&quot;:&quot;(.+?)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">0</stringProp>
          </RegexExtractor>
          <hashTree/>
          <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
            <collectionProp name="Asserion.test_strings">
              <stringProp name="49586">200</stringProp>
            </collectionProp>
            <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
            <boolProp name="Assertion.assume_success">false</boolProp>
            <intProp name="Assertion.test_type">8</intProp>
            <stringProp name="Assertion.custom_message"></stringProp>
          </ResponseAssertion>
          <hashTree/>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="部门预算登录" enabled="true">
        <stringProp name="TestPlan.comments">部门预算登录</stringProp>
      </TestFragmentController>
      <hashTree>
        <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
          <collectionProp name="HeaderManager.headers">
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Authorization</stringProp>
              <stringProp name="Header.value">${Authorization}</stringProp>
            </elementProp>
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Content-Type</stringProp>
              <stringProp name="Header.value">application/x-www-form-urlencoded</stringProp>
            </elementProp>
          </collectionProp>
        </HeaderManager>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部门预算管理员登录" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="username" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">${username2}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">username</stringProp>
              </elementProp>
              <elementProp name="password" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">${password}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">password</stringProp>
              </elementProp>
              <elementProp name="grant_type" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">password</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">grant_type</stringProp>
              </elementProp>
              <elementProp name="scope" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">read write</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">scope</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
          <stringProp name="HTTPSampler.path">/oauth/token</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="accessToken" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">accessToken</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;access_token&quot;:&quot;(.+?)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">0</stringProp>
          </RegexExtractor>
          <hashTree/>
          <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
            <collectionProp name="Asserion.test_strings">
              <stringProp name="49586">200</stringProp>
            </collectionProp>
            <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
            <boolProp name="Assertion.assume_success">false</boolProp>
            <intProp name="Assertion.test_type">8</intProp>
            <stringProp name="Assertion.custom_message"></stringProp>
          </ResponseAssertion>
          <hashTree/>
        </hashTree>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="获得相关时间" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.*;

import java.text.SimpleDateFormat;
import java.util.Date;

Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE, 0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;NewBJstartDate&quot;,localTime);
SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
Date localDate= null;
try {
localDate = sdf.parse(localTime);
} catch (ParseException e) {
e.printStackTrace();
}
long localTimeInMillis=localDate.getTime();
/** long时间转换成Calendar */
Calendar calendar= Calendar.getInstance();
calendar.setTimeInMillis(localTimeInMillis);
/** 取得时间偏移量 */
int zoneOffset = calendar.get(java.util.Calendar.ZONE_OFFSET);
/** 取得夏令时差 */
int dstOffset = calendar.get(java.util.Calendar.DST_OFFSET);
/** 从本地时间里扣除这些差量，即可以取得UTC时间*/
calendar.add(java.util.Calendar.MILLISECOND, -(zoneOffset + dstOffset));
/** 取得的时间就是UTC标准时间 */
Date utcDate=new Date(calendar.getTimeInMillis());


SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;);
Date date = new Date();
String startDate = formatter.format(utcDate);
//log.info(&quot;需要修改的UTC开始日期是&quot;+startDate);
vars.put(&quot;NewUTCstartDate&quot;,startDate);



Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,-1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;YestDay&quot;,localTime);


SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
Date localDate= null;
try {
localDate = sdf.parse(localTime);
} catch (ParseException e) {
e.printStackTrace();
}
long localTimeInMillis=localDate.getTime();
/** long时间转换成Calendar */
Calendar calendar= Calendar.getInstance();
calendar.setTimeInMillis(localTimeInMillis);
/** 取得时间偏移量 */
int zoneOffset = calendar.get(java.util.Calendar.ZONE_OFFSET);
/** 取得夏令时差 */
int dstOffset = calendar.get(java.util.Calendar.DST_OFFSET);
/** 从本地时间里扣除这些差量，即可以取得UTC时间*/
calendar.add(java.util.Calendar.MILLISECOND, -(zoneOffset + dstOffset));
/** 取得的时间就是UTC标准时间 */
Date utcDate=new Date(calendar.getTimeInMillis());




SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;);
Date date = new Date();
String startDate = formatter.format(utcDate);
//log.info(&quot;需要修改的UTC截止日期是&quot;+startDate);
vars.put(&quot;NewUTCYestDay&quot;,startDate);


Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
String localTime = formatter.format(date);
vars.put(&quot;startDate&quot;,localTime);


Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;NewBJEndDate&quot;,localTime);


</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="员工预算登录" enabled="true">
        <stringProp name="TestPlan.comments">员工预算登录</stringProp>
      </TestFragmentController>
      <hashTree>
        <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
          <collectionProp name="HeaderManager.headers">
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Authorization</stringProp>
              <stringProp name="Header.value">${Authorization}</stringProp>
            </elementProp>
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Content-Type</stringProp>
              <stringProp name="Header.value">application/x-www-form-urlencoded</stringProp>
            </elementProp>
          </collectionProp>
        </HeaderManager>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="员工预算管理员登录" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="username" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">${username3}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">username</stringProp>
              </elementProp>
              <elementProp name="password" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">${password}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">password</stringProp>
              </elementProp>
              <elementProp name="grant_type" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">password</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">grant_type</stringProp>
              </elementProp>
              <elementProp name="scope" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">true</boolProp>
                <stringProp name="Argument.value">read write</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">scope</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
          <stringProp name="HTTPSampler.path">/oauth/token</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="accessToken" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">accessToken</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;access_token&quot;:&quot;(.+?)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">0</stringProp>
          </RegexExtractor>
          <hashTree/>
          <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
            <collectionProp name="Asserion.test_strings">
              <stringProp name="49586">200</stringProp>
            </collectionProp>
            <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
            <boolProp name="Assertion.assume_success">false</boolProp>
            <intProp name="Assertion.test_type">8</intProp>
            <stringProp name="Assertion.custom_message"></stringProp>
          </ResponseAssertion>
          <hashTree/>
        </hashTree>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="获得相关时间" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.*;

import java.text.SimpleDateFormat;
import java.util.Date;

Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE, 0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;NewBJstartDate&quot;,localTime);
SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
Date localDate= null;
try {
localDate = sdf.parse(localTime);
} catch (ParseException e) {
e.printStackTrace();
}
long localTimeInMillis=localDate.getTime();
/** long时间转换成Calendar */
Calendar calendar= Calendar.getInstance();
calendar.setTimeInMillis(localTimeInMillis);
/** 取得时间偏移量 */
int zoneOffset = calendar.get(java.util.Calendar.ZONE_OFFSET);
/** 取得夏令时差 */
int dstOffset = calendar.get(java.util.Calendar.DST_OFFSET);
/** 从本地时间里扣除这些差量，即可以取得UTC时间*/
calendar.add(java.util.Calendar.MILLISECOND, -(zoneOffset + dstOffset));
/** 取得的时间就是UTC标准时间 */
Date utcDate=new Date(calendar.getTimeInMillis());


SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;);
Date date = new Date();
String startDate = formatter.format(utcDate);
//log.info(&quot;需要修改的UTC开始日期是&quot;+startDate);
vars.put(&quot;NewUTCstartDate&quot;,startDate);



Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,-1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;YestDay&quot;,localTime);


SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
Date localDate= null;
try {
localDate = sdf.parse(localTime);
} catch (ParseException e) {
e.printStackTrace();
}
long localTimeInMillis=localDate.getTime();
/** long时间转换成Calendar */
Calendar calendar= Calendar.getInstance();
calendar.setTimeInMillis(localTimeInMillis);
/** 取得时间偏移量 */
int zoneOffset = calendar.get(java.util.Calendar.ZONE_OFFSET);
/** 取得夏令时差 */
int dstOffset = calendar.get(java.util.Calendar.DST_OFFSET);
/** 从本地时间里扣除这些差量，即可以取得UTC时间*/
calendar.add(java.util.Calendar.MILLISECOND, -(zoneOffset + dstOffset));
/** 取得的时间就是UTC标准时间 */
Date utcDate=new Date(calendar.getTimeInMillis());




SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;);
Date date = new Date();
String startDate = formatter.format(utcDate);
//log.info(&quot;需要修改的UTC截止日期是&quot;+startDate);
vars.put(&quot;NewUTCYestDay&quot;,startDate);


Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,1);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
String localTime = formatter.format(date);
vars.put(&quot;startDate&quot;,localTime);


Date date = new Date();
Calendar calendar = new GregorianCalendar();
calendar.setTime(date);
calendar.add(calendar.DATE,0);
date = calendar.getTime();
SimpleDateFormat formatter = new SimpleDateFormat(&quot;mm:ss&quot;);
String localTime = formatter.format(date);
vars.put(&quot;NewBJEndDate&quot;,localTime);


</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="001公司预算_日常报销单_管控费用_007" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551168261000</longProp>
        <longProp name="ThreadGroup.end_time">1551168261000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="750923235">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="0"></stringProp>
              <stringProp name="-986661391">${expenseForm001}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
String  flag=&quot;N&quot;;//定义表示，是否更新
int allAmountI=0;
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
	flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);





</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="查询是否有预算记录" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">BudgetBalance</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NofFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="是否需要新建日记账" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">String Balance=vars.get(&quot;BudgetBalance&quot;);
if (Balance.equals(&quot;NofFound&quot;))
	Balance=&quot;Y&quot;;//需要新建
else
	Balance=&quot;N&quot;;//不需要新建

vars.put(&quot;Balance&quot;,Balance);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果没有余额,则新建余额" enabled="true">
          <stringProp name="IfController.condition">&quot;${Balance}&quot; == &quot;Y&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: 20,&#xd;
	&quot;functionalAmount&quot;: &quot;20&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="更新日记账余额" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot; &amp;&amp;   &quot;${Balance}&quot; !=&quot;Y&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="更新预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);
//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="formOID;formId,formName;formType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="true">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(&quot;${bxFormName}&quot;);                          //事由 默认值：“表单名称”
list.add(&quot;&quot;);		           	//收款单位/个人
list.add(&quot;&quot;);                             //源泉税


StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="00获取所有类型的单据（报销单）" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/company/my/available/all/?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取表单OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">dailyFormOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取FormOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">daily_FormOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取提取FormID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">daily_FormId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="00获取表单字段" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${dailyFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取表单fieldOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">fieldOID0;fieldOID1;fieldOID2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;部门&quot;)].fieldOID;$..[?(@.fieldName==&quot;事由&quot;)].fieldOID;$..[?(@.fieldName==&quot;审批人&quot;)].fieldOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormProperties&quot;);
//log.info(&quot;customFormProperties:&quot;+json);



json = json.replaceAll(&quot;:null,&quot;,&quot;:\&quot;null\&quot;,&quot;);
JSONObject jsonObject = JSONObject.parseObject(json);

JSONObject NewformOID = JSONObject.parseObject(jsonObject.get(&quot;subsidyConfig&quot;));



vars.put(&quot;NewformOID&quot;,NewformOID.get(&quot;formOID&quot;));</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="日常报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单创建" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${daily_FormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${daily_FormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;预算日常报销单&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: 3001,&#xd;
	&quot;asSystem&quot;: true,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: false,&#xd;
	&quot;customFormFields&quot;: ${customFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;sequence&quot;: 40,&#xd;
	&quot;referenceOID&quot;: null,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1002,&#xd;
	&quot;visibleLoanTypeScope&quot;: null,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;:1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnabled&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;countersignApproverOIDs&quot;:null,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;事由&quot;)].bizOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxReasonFormValueOID;bxDeptFormValueOID;bxReasonBizOID;" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxReasonFormValueOID;bxDeptFormValueOID;</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;事由&quot;)].formValueOID;$..[?(@.fieldName==&quot;部门&quot;)].formValueOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单创建费用" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="bxamount" elementType="Argument">
                  <stringProp name="Argument.name">bxamount</stringProp>
                  <stringProp name="Argument.value">${baseAmount}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="expenseTypeName" elementType="Argument">
                  <stringProp name="Argument.name">expenseTypeName</stringProp>
                  <stringProp name="Argument.value">${expenseTypeName}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="ownerOID" elementType="Argument">
                  <stringProp name="Argument.name">ownerOID</stringProp>
                  <stringProp name="Argument.value">${userOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="proportion" elementType="Argument">
                  <stringProp name="Argument.name">proportion</stringProp>
                  <stringProp name="Argument.value">1</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="bxExpenseReportOID" elementType="Argument">
                  <stringProp name="Argument.name">bxExpenseReportOID</stringProp>
                  <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="bxFormOID" elementType="Argument">
                  <stringProp name="Argument.name">bxFormOID</stringProp>
                  <stringProp name="Argument.value">${daily_FormOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath">../../common/ExpenseReportCreateInvoicesApportionOnly_1Department.jmx</stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="BeanShell 取样器" enabled="true">
            <stringProp name="BeanShellSampler.query">vars.put(&quot;NewinvoiceOID&quot;,vars.get(&quot;invoiceOID&quot;));</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单禁止提交" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="expenseReportOID" elementType="Argument">
                  <stringProp name="Argument.name">expenseReportOID</stringProp>
                  <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="SuccessSubmit" elementType="Argument">
                  <stringProp name="Argument.name">SuccessSubmit</stringProp>
                  <stringProp name="Argument.value">${forbidTip}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="needConfirm" elementType="Argument">
                  <stringProp name="Argument.name">needConfirm</stringProp>
                  <stringProp name="Argument.value">false</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath">../../common/ExpenseReport_Submit_NoForce.jmx</stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单重新创建费用警告费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
                <stringProp name="HTTPSampler.method">DELETE</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="Content-Type" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
                <stringProp name="HTTPSampler.method">DELETE</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="Content-Type" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单创建费用" enabled="true">
              <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="bxamount" elementType="Argument">
                    <stringProp name="Argument.name">bxamount</stringProp>
                    <stringProp name="Argument.value">${amount}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                  <elementProp name="expenseTypeName" elementType="Argument">
                    <stringProp name="Argument.name">expenseTypeName</stringProp>
                    <stringProp name="Argument.value">${expenseTypeName}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                  <elementProp name="ownerOID" elementType="Argument">
                    <stringProp name="Argument.name">ownerOID</stringProp>
                    <stringProp name="Argument.value">${userOID}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                  <elementProp name="proportion" elementType="Argument">
                    <stringProp name="Argument.name">proportion</stringProp>
                    <stringProp name="Argument.value">1</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                  <elementProp name="bxExpenseReportOID" elementType="Argument">
                    <stringProp name="Argument.name">bxExpenseReportOID</stringProp>
                    <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                  <elementProp name="bxFormOID" elementType="Argument">
                    <stringProp name="Argument.name">bxFormOID</stringProp>
                    <stringProp name="Argument.value">${daily_FormOID}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
            </kg.apc.jmeter.control.ParameterizedController>
            <hashTree>
              <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
                <stringProp name="IncludeController.includepath">../../common/ExpenseReportCreateInvoicesApportionOnly_1Department.jmx</stringProp>
              </IncludeController>
              <hashTree/>
            </hashTree>
          </hashTree>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单警告提交" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="expenseReportOID" elementType="Argument">
                  <stringProp name="Argument.name">expenseReportOID</stringProp>
                  <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="SuccessSubmit" elementType="Argument">
                  <stringProp name="Argument.name">SuccessSubmit</stringProp>
                  <stringProp name="Argument.value">${bxSuccessful}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="needConfirm" elementType="Argument">
                  <stringProp name="Argument.name">needConfirm</stringProp>
                  <stringProp name="Argument.value">true</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="OtherSubmit11" elementType="Argument">
                  <stringProp name="Argument.name">OtherSubmit11</stringProp>
                  <stringProp name="Argument.value">${warnTip}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath">../../common/ExpenseReport_Submit.jmx</stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before报销**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After报销**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
log.info(bgtAmount+&quot;&quot;);
log.info(bgtAmount1+&quot;&quot;);
log.info(expUsedAmount+&quot;&quot;);
log.info(expUsedAmount1+&quot;&quot;);
log.info(expAvailableAmount+&quot;&quot;);
log.info(expAvailableAmount1+&quot;&quot;);


if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="撤回" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;entityOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
		&quot;entityType&quot;: 1002&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/approvals/withdraw</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before报销**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After报销**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
//expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount;

//expUsedAmount =  expUsedAmount;
//expAvailableAmount = expAvailableAmount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
log.info(bgtAmount+&quot;&quot;);
log.info(bgtAmount1+&quot;&quot;);
log.info(expUsedAmount+&quot;&quot;);
log.info(expUsedAmount1+&quot;&quot;);
log.info(expAvailableAmount+&quot;&quot;);
log.info(expAvailableAmount1+&quot;&quot;);


if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before报销**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After报销**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
log.info(bgtAmount+&quot;&quot;);
log.info(bgtAmount1+&quot;&quot;);
log.info(expUsedAmount+&quot;&quot;);
log.info(expUsedAmount1+&quot;&quot;);
log.info(expAvailableAmount+&quot;&quot;);
log.info(expAvailableAmount1+&quot;&quot;);


if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="002公司预算_日常报销单_其他费用" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551168261000</longProp>
        <longProp name="ThreadGroup.end_time">1551168261000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="750895701">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="0"></stringProp>
              <stringProp name="-986661391">${expenseForm001}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664698">${expenseType002}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey;bxExpenseTypeData" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey;bxExpenseTypeData</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;$..[?(@.name==&quot;${expenseTypeName}&quot;)].fields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
if(temp&gt;100){
	allAmountI=temp;
}else{
	allAmountI=(int)((200+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="formOID;formId,formName;formType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单详情" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="true">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(&quot;${bxFormName}&quot;);                          //事由 默认值：“表单名称”
list.add(&quot;&quot;);		           	//收款单位/个人
list.add(&quot;&quot;);                             //源泉税


StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="00获取所有类型的单据（报销单）" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/company/my/available/all/?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取表单OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">dailyFormOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取FormOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">daily_FormOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取提取FormID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">daily_FormId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="00获取表单字段" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${dailyFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取表单fieldOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">fieldOID0;fieldOID1;fieldOID2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;部门&quot;)].fieldOID;$..[?(@.fieldName==&quot;事由&quot;)].fieldOID;$..[?(@.fieldName==&quot;审批人&quot;)].fieldOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormProperties&quot;);
//log.info(&quot;customFormProperties:&quot;+json);



json = json.replaceAll(&quot;:null,&quot;,&quot;:\&quot;null\&quot;,&quot;);
JSONObject jsonObject = JSONObject.parseObject(json);

JSONObject NewformOID = JSONObject.parseObject(jsonObject.get(&quot;subsidyConfig&quot;));



vars.put(&quot;NewformOID&quot;,NewformOID.get(&quot;formOID&quot;));</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="日常报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单创建" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${daily_FormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${daily_FormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;预算日常报销单&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: 3001,&#xd;
	&quot;asSystem&quot;: true,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: false,&#xd;
	&quot;customFormFields&quot;: ${customFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;sequence&quot;: 40,&#xd;
	&quot;referenceOID&quot;: null,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1002,&#xd;
	&quot;visibleLoanTypeScope&quot;: null,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;:1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnabled&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;countersignApproverOIDs&quot;:null,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;事由&quot;)].bizOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxReasonFormValueOID;bxDeptFormValueOID;bxReasonBizOID;" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxReasonFormValueOID;bxDeptFormValueOID;</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;事由&quot;)].formValueOID;$..[?(@.fieldName==&quot;部门&quot;)].formValueOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单创建费用" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="bxamount" elementType="Argument">
                  <stringProp name="Argument.name">bxamount</stringProp>
                  <stringProp name="Argument.value">${baseAmount}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="expenseTypeName" elementType="Argument">
                  <stringProp name="Argument.name">expenseTypeName</stringProp>
                  <stringProp name="Argument.value">${expenseTypeName}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="ownerOID" elementType="Argument">
                  <stringProp name="Argument.name">ownerOID</stringProp>
                  <stringProp name="Argument.value">${userOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="proportion" elementType="Argument">
                  <stringProp name="Argument.name">proportion</stringProp>
                  <stringProp name="Argument.value">1</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="bxExpenseReportOID" elementType="Argument">
                  <stringProp name="Argument.name">bxExpenseReportOID</stringProp>
                  <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="bxFormOID" elementType="Argument">
                  <stringProp name="Argument.name">bxFormOID</stringProp>
                  <stringProp name="Argument.value">${daily_FormOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath">../../common/ExpenseReportCreateInvoicesApportionOnly_1Department.jmx</stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;CNY&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;createdDate&quot;: &quot;${today}T10:02:00Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: ${bxExpenseTypeData},&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部门&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: null,&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxExpenseTypeInvoiceOID;bxExpenseTypeIconURL;bxExpenseTypeCategorySimpleDTO;bxExpenseTypeData" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseTypeInvoiceOID;bxExpenseTypeIconURL;bxExpenseTypeCategorySimpleDTO;bxExpenseTypeData</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].expenseTypeCategorySimpleDTO;$.rows.invocieView.data</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单警告提交" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="expenseReportOID" elementType="Argument">
                  <stringProp name="Argument.name">expenseReportOID</stringProp>
                  <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="SuccessSubmit" elementType="Argument">
                  <stringProp name="Argument.name">SuccessSubmit</stringProp>
                  <stringProp name="Argument.value">${bxSuccessful}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="needConfirm" elementType="Argument">
                  <stringProp name="Argument.name">needConfirm</stringProp>
                  <stringProp name="Argument.value">false</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="OtherSubmit11" elementType="Argument">
                  <stringProp name="Argument.name">OtherSubmit11</stringProp>
                  <stringProp name="Argument.value">${bxSuccessful}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath">../../common/ExpenseReport_Submit.jmx</stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="003公司预算_费用申请报销_管控费用_007_008_012(一张报销单关联多张申请单)" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="775896791">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="-986661360">${expenseForm002}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建申请单1" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
	flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormProperties&quot;);


json = json.replaceAll(&quot;:null,&quot;,&quot;:\&quot;null\&quot;,&quot;);
JSONObject jsonObject = JSONObject.parseObject(json);

JSONObject NewformOID = JSONObject.parseObject(jsonObject.get(&quot;subsidyConfig&quot;));
vars.put(&quot;NewformOID&quot;,NewformOID.get(&quot;formOID&quot;));</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单-取餐饮" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">businessCode1</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicantOID1;applicationOID1;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                  <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">apportionmentOID1</stringProp>
                <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">budgetOID1</stringProp>
                <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID1}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">select_box</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;customFormProperties;expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.customFormProperties;$.expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">fieldName</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">-1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
                <stringProp name="scriptLanguage">java</stringProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="cacheKey">true</stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
              </JSR223PostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySamplerProperties">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submit_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID1}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">String submit_data=vars.get(&quot;NewcustFormValues&quot;);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode1}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1760707999">status&quot;:1002,</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode1}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="635939628">status&quot;:1003</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建申请单2" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
	flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormProperties&quot;);


json = json.replaceAll(&quot;:null,&quot;,&quot;:\&quot;null\&quot;,&quot;);
JSONObject jsonObject = JSONObject.parseObject(json);

JSONObject NewformOID = JSONObject.parseObject(jsonObject.get(&quot;subsidyConfig&quot;));
vars.put(&quot;NewformOID&quot;,NewformOID.get(&quot;formOID&quot;));</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单-取餐饮" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">businessCode2</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicantOID2;applicationOID2;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                  <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897775">${businessCode2}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">apportionmentOID2</stringProp>
                <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">budgetOID2</stringProp>
                <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID2</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID2}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897775">${businessCode2}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">select_box</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;customFormProperties;expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.customFormProperties;$.expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">fieldName</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">-1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
                <stringProp name="scriptLanguage">java</stringProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="cacheKey">true</stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
              </JSR223PostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySamplerProperties">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submit_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID2}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897775">${businessCode2}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">String submit_data=vars.get(&quot;NewcustFormValues&quot;);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode2}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1760707999">status&quot;:1002,</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID2}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode2}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="635939628">status&quot;:1003</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
	&quot;expenseReportApplicationDTOS&quot;: [{&#xd;
		&quot;applicationOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
		&quot;tenantId&quot;: &quot;${tenantId}&quot;&#xd;
	}, {&#xd;
		&quot;applicationOID&quot;: &quot;${applicationOID2}&quot;,&#xd;
		&quot;tenantId&quot;: &quot;${tenantId}&quot;&#xd;
	}],&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获得默认分摊行" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用超申请单金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1471470432">&quot;success&quot;:true,&quot;code&quot;:&quot;0000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单禁止提交" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="expenseReportOID" elementType="Argument">
                  <stringProp name="Argument.name">expenseReportOID</stringProp>
                  <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="SuccessSubmit" elementType="Argument">
                  <stringProp name="Argument.name">SuccessSubmit</stringProp>
                  <stringProp name="Argument.value">${forbidTip}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="needConfirm" elementType="Argument">
                  <stringProp name="Argument.name">needConfirm</stringProp>
                  <stringProp name="Argument.value">false</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath">../../common/ExpenseReport_Submit_NoForce.jmx</stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加警告费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="撤回" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;entityOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
		&quot;entityType&quot;: 1002&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/approvals/withdraw</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单警告提交" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="expenseReportOID" elementType="Argument">
                  <stringProp name="Argument.name">expenseReportOID</stringProp>
                  <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="SuccessSubmit" elementType="Argument">
                  <stringProp name="Argument.name">SuccessSubmit</stringProp>
                  <stringProp name="Argument.value">${bxSuccessful}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="needConfirm" elementType="Argument">
                  <stringProp name="Argument.name">needConfirm</stringProp>
                  <stringProp name="Argument.value">true</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath">../../common/ExpenseReport_Submit.jmx</stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="003公司预算_费用申请报销_管控费用_007_008_012(多张报销单关联多张申请单)" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="775896791">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="-986661360">${expenseForm002}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建申请单1" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
	flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormProperties&quot;);


json = json.replaceAll(&quot;:null,&quot;,&quot;:\&quot;null\&quot;,&quot;);
JSONObject jsonObject = JSONObject.parseObject(json);

JSONObject NewformOID = JSONObject.parseObject(jsonObject.get(&quot;subsidyConfig&quot;));
vars.put(&quot;NewformOID&quot;,NewformOID.get(&quot;formOID&quot;));</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单-取餐饮" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">businessCode1</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicantOID1;applicationOID1;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                  <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">apportionmentOID1</stringProp>
                <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">budgetOID1</stringProp>
                <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID1}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">select_box</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;customFormProperties;expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.customFormProperties;$.expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">fieldName</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">-1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
                <stringProp name="scriptLanguage">java</stringProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="cacheKey">true</stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
              </JSR223PostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySamplerProperties">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submit_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID1}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">String submit_data=vars.get(&quot;NewcustFormValues&quot;);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode1}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1760707999">status&quot;:1002,</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode1}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="635939628">status&quot;:1003</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建申请单2" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
	flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormProperties&quot;);


json = json.replaceAll(&quot;:null,&quot;,&quot;:\&quot;null\&quot;,&quot;);
JSONObject jsonObject = JSONObject.parseObject(json);

JSONObject NewformOID = JSONObject.parseObject(jsonObject.get(&quot;subsidyConfig&quot;));
vars.put(&quot;NewformOID&quot;,NewformOID.get(&quot;formOID&quot;));</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单-取餐饮" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">businessCode2</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicantOID2;applicationOID2;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                  <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897775">${businessCode2}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">apportionmentOID2</stringProp>
                <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">budgetOID2</stringProp>
                <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID2</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID2}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897775">${businessCode2}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">select_box</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;customFormProperties;expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.customFormProperties;$.expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">fieldName</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">-1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
                <stringProp name="scriptLanguage">java</stringProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="cacheKey">true</stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
              </JSR223PostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySamplerProperties">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submit_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID2}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897775">${businessCode2}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">String submit_data=vars.get(&quot;NewcustFormValues&quot;);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode2}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1760707999">status&quot;:1002,</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID2}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode2}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="635939628">status&quot;:1003</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单1" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
	&quot;expenseReportApplicationDTOS&quot;: [{&#xd;
		&quot;applicationOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
		&quot;tenantId&quot;: &quot;${tenantId}&quot;&#xd;
	}, {&#xd;
		&quot;applicationOID&quot;: &quot;${applicationOID2}&quot;,&#xd;
		&quot;tenantId&quot;: &quot;${tenantId}&quot;&#xd;
	}],&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用超申请单金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1471470432">&quot;success&quot;:true,&quot;code&quot;:&quot;0000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="报销单禁止提交" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="expenseReportOID" elementType="Argument">
                  <stringProp name="Argument.name">expenseReportOID</stringProp>
                  <stringProp name="Argument.value">${bxExpenseReportOID}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="SuccessSubmit" elementType="Argument">
                  <stringProp name="Argument.name">SuccessSubmit</stringProp>
                  <stringProp name="Argument.value">${forbidTip}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
                <elementProp name="needConfirm" elementType="Argument">
                  <stringProp name="Argument.name">needConfirm</stringProp>
                  <stringProp name="Argument.value">false</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath">../../common/ExpenseReport_Submit_NoForce.jmx</stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单禁止提交" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加警告费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="撤回" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;entityOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
		&quot;entityType&quot;: 1002&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/approvals/withdraw</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单2" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
	&quot;expenseReportApplicationDTOS&quot;: [{&#xd;
		&quot;applicationOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
		&quot;tenantId&quot;: &quot;${tenantId}&quot;&#xd;
	}, {&#xd;
		&quot;applicationOID&quot;: &quot;${applicationOID2}&quot;,&#xd;
		&quot;tenantId&quot;: &quot;${tenantId}&quot;&#xd;
	}],&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用超申请单金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1471470432">&quot;success&quot;:true,&quot;code&quot;:&quot;0000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单禁止提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加警告费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="003公司预算_费用申请报销_管控费用_007_008_012(2张报销单关联1张申请单)" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="775896791">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="-986661360">${expenseForm002}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建申请单1" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
	flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormProperties&quot;);


json = json.replaceAll(&quot;:null,&quot;,&quot;:\&quot;null\&quot;,&quot;);
JSONObject jsonObject = JSONObject.parseObject(json);

JSONObject NewformOID = JSONObject.parseObject(jsonObject.get(&quot;subsidyConfig&quot;));
vars.put(&quot;NewformOID&quot;,NewformOID.get(&quot;formOID&quot;));</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单-取餐饮" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">businessCode1</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicantOID1;applicationOID1;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                  <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">apportionmentOID1</stringProp>
                <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">budgetOID1</stringProp>
                <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID1}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">select_box</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;customFormProperties;expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.customFormProperties;$.expenseApplication</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">fieldName</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">-1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
                <stringProp name="scriptLanguage">java</stringProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="cacheKey">true</stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
              </JSR223PostProcessor>
              <hashTree/>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySamplerProperties">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submit_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/application/${applicationOID1}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1091897744">${businessCode1}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">String submit_data=vars.get(&quot;NewcustFormValues&quot;);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode1}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1760707999">status&quot;:1002,</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="businessCode" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${businessCode1}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                    <boolProp name="HTTPArgument.use_equals">true</boolProp>
                    <stringProp name="Argument.name">businessCode</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="635939628">status&quot;:1003</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">queryID</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default">Not found</stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单1" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用超申请单金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: &quot;${applicationApportionmentId}&quot;,&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1471470432">&quot;success&quot;:true,&quot;code&quot;:&quot;0000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加警告费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="撤回" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;entityOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
		&quot;entityType&quot;: 1002&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/approvals/withdraw</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单2" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID1}&quot;,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用超申请单金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: &quot;${applicationApportionmentId}&quot;,&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1471470432">&quot;success&quot;:true,&quot;code&quot;:&quot;0000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单禁止提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加警告费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$.expenseReportInvoices;$.invoiceGroups;$.expenseTypes</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取机票费用类型bxExpenseReportInvoiceOID_1;bxExpenseReportOID_1;bxInvoiceOID_1;bxAirExpenseTypeIconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseReportInvoiceOID_1;bxExpenseReportOID_1;bxInvoiceOID_1;bxAirExpenseTypeIconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.invoiceView.expenseTypeName==&quot;YS出租车&quot;)].expenseReportInvoiceOID;$..[?(@.invoiceView.expenseTypeName==&quot;YS出租车&quot;)].expenseReportOID;$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].expenseTypeIconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicationFormOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationFormOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationFormOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-320983657">&quot;applicationOID&quot;:&quot;${applicationOID1}&quot;</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">data</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="003公司预算_费用申请报销_管控费用_007_008_012" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="775896791">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="-986661360">${expenseForm002}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
	flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormProperties&quot;);


json = json.replaceAll(&quot;:null,&quot;,&quot;:\&quot;null\&quot;,&quot;);
JSONObject jsonObject = JSONObject.parseObject(json);

JSONObject NewformOID = JSONObject.parseObject(jsonObject.get(&quot;subsidyConfig&quot;));
vars.put(&quot;NewformOID&quot;,NewformOID.get(&quot;formOID&quot;));</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单-取餐饮" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">businessCode</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;customFormProperties;expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.customFormProperties;$.expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submit_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="2030752013">${forbidTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1260657473">${warnTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">String submit_data=vars.get(&quot;NewcustFormValues&quot;);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1760707999">status&quot;:1002,</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939628">status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用超申请单金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1471470432">&quot;success&quot;:true,&quot;code&quot;:&quot;0000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单禁止提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加警告费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="撤回" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;entityOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
		&quot;entityType&quot;: 1002&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/approvals/withdraw</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="004公司预算_费用申请单_其他费用" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="-909510517">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="0"></stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664698">${expenseType002}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap;customFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap;customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单-取餐饮" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-18T06:50:03Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">businessCode</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理控件信息" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;customFormProperties;expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.customFormProperties;$.expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submit_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1628871237">{&quot;success&quot;:true,&quot;rows&quot;:null,&quot;passFlag&quot;:true,&quot;checkResultList&quot;:[],&quot;applicationDTO&quot;:null}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="005公司预算_差旅申请报销_管控费用_007_010_013" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="876374146">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361032">${applicationForm002}</stringProp>
              <stringProp name="-986661329">${expenseForm003}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
String  flag=&quot;N&quot;;//定义表示，是否更新
int allAmountI=0;
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
String select_participant=&quot;[{\\\\\&quot;userOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;,\\\\\&quot;fullName\\\\\&quot;:\\\\\&quot;${fullName}\\\\\&quot;,\\\\\&quot;participantOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;}]&quot;;
String airinfo=&quot;{\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${baseAmount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1}]}]}],\\\\\&quot;amount\\\\\&quot;:${baseAmount}}&quot;;
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list.add(&quot;${apFormName}&quot;);                          //事由 默认值：“表单名称”：
list.add(select_participant);                     //参与人员 默认值：“当前用户自己”
list.add(airinfo);                                //预算明细 默认值：添加“机票”
list.add(&quot;${supplierId},${bankId}&quot;);              //收款单位/个人 默认值：
log.info(list.toString());

StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;value\&quot;: null&quot;,&quot;\&quot;value\&quot;:\&quot;${value5}\&quot;&quot;).replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
	log.info(&quot;valueKey===&quot; + valueKey+&quot;llllllllll&quot;+i);
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String customform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
vars.put(&quot;customform&quot;,customform);
String ss=vars.get(&quot;customform&quot;);
log.info(&quot;customform===&quot; + ss);



</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型取${expenseTypeName}" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);


String baseAmount=vars.get(&quot;baseAmount&quot;);


String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="参与人列表查看" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/application/participantsList?proposerOID=${userOID}&amp;page=0&amp;size=10&amp;formOID=${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态返回" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">select_participant_data</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

String json = vars.get(&quot;select_participant_data&quot;);
json = json.replaceAll(&quot;null&quot;,&quot;\&quot;null\&quot;&quot;);
JSONArray MYjsonArray = JSON.parseArray(json);
JSONArray ja0 = new JSONArray();
int size = MYjsonArray.size();
for (int i = 0; i &lt;size; i++){
            jsonObject = MYjsonArray.getJSONObject(i);
            JSONObject myobj = new  JSONObject();
		  myobj.put(&quot;userOID&quot;,jsonObject.get(&quot;userOID&quot;));
		  myobj.put(&quot;fullName&quot;,jsonObject.get(&quot;fullName&quot;));
		  myobj.put(&quot;participantOID&quot;,jsonObject.get(&quot;userOID&quot;));
            ja0.add(myobj);
        }
String str =ja0.toString();
str  = str.replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
str  = str.replaceAll(&quot;\&quot;&quot;,&quot;\\\&quot;&quot;);
vars.put(&quot;participant&quot;,str);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="差旅申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存差旅申请单_未添加行程" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;sequence&quot;: 90,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;visibleLoanTypeScope&quot;: null,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnabled&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NewcustFormValues},&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;,&#xd;
	&quot;travelApplication&quot;: {&#xd;
		&quot;manageType&quot;: &quot;1002&quot;,&#xd;
		&quot;travelItinerarys&quot;: [{&#xd;
			&quot;itineraryDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
			&quot;travelElements&quot;: [],&#xd;
			&quot;travelItineraryTraffics&quot;: []&#xd;
		}],&#xd;
		&quot;totalBudget&quot;:  ${baseAmount}&#xd;
	}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">api/travel/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json</stringProp>
                </elementProp>
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">Authorization</stringProp>
                  <stringProp name="Header.value">Bearer ${accessToken}</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49587">201</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationOID1;applicantName;applicationParticipant;applicationParticipants;businessCode1;companyOID;corporationOID;costCenterItemOID;createdBy;custFormValues;customFormProperties;departmentName</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationOID;$.applicantName;$.applicationParticipant;$.applicationParticipants;$.businessCode;$.companyOID;$.corporationOID;$.costCenterItemOID;$.createdBy;$.custFormValues;customFormProperties;$.departmentName</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null;null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields===========&quot;+json);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();
for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
            log.info(jsonObject.get(&quot;fieldName&quot;).getAsString());
            
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;部门&quot;))
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;开始日期&quot;)){
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;startDate&quot;));
           		jsonObject.addProperty(&quot;endDate&quot;,vars.get(&quot;startDate&quot;));
             }
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;结束日期&quot;)){
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;startDate&quot;));
           		jsonObject.addProperty(&quot;endDate&quot;,vars.get(&quot;startDate&quot;));
             }
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;事由&quot;))
           		jsonObject.addProperty(&quot;value&quot;,&quot;差旅申请单-关联多申请出差&quot;);
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;参与人员&quot;))
             {
			String vv=vars.get(&quot;participant&quot;);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }

             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }
}
String str =MYjsonArray.toString();
log.info(&quot;NewcustFormValues==:&quot;+MYjsonArray.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取保存的响应" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">Save_response</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicantOID;applicationOID;applicationParticipant;applicationParticipants" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;applicationParticipant;applicationParticipants</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.applicationParticipant;$.applicationParticipants</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="custFormValues;customFormProperties;companyOID;corporationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;customFormProperties;companyOID;corporationOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$.customFormProperties;$.companyOID;$.corporationOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="formOID;businessCode;travelApplication;departmentOID;subCompanyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">formOID;businessCode;travelApplication;departmentOID;subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues[0].formOID;$.businessCode;$.travelApplication;$.applicant.departmentOID;$.subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">data</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/travel/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="expenseReportOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseReportOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;bizOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="2030752013">${forbidTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;companyOID;corporationOID;applicantOID;fullName;createdBy;customFormProperties;departmentOID;businessCode;travelItinerarys</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.companyOID;$.corporationOID;$.applicantOID;$.applicant.fullName;$.applicant.userOID;$.customFormProperties;$.applicant.departmentOID;$.travelApplication.businessCode;$.travelApplication.travelItinerarys</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">travelApplication</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.travelApplication</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">costCenter</stringProp>
              <stringProp name="RegexExtractor.regex">costCenter\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseTypeOID</stringProp>
              <stringProp name="RegexExtractor.regex">expenseTypeOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="true">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
String select_participant=&quot;[{\\\\\&quot;userOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;,\\\\\&quot;fullName\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;participantOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;}]&quot;;
String airinfo1=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;${costCenter}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
log.info(&quot;********airinfo1********&quot; + airinfo1);
String airinfo2=
&quot;{\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${baseAmount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;${costCenter}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;19022600000\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
log.info(&quot;********airinfo2********&quot; + airinfo2);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list1 =new ArrayList(30);
ArrayList list2 =new ArrayList(30);
StringBuilder sb = new StringBuilder();
list1.add(&quot;null&quot;);                                  //部门的value
list1.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list1.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list1.add(&quot;${apFormName}&quot;);                          //事由 默认值：“表单名称”：
list1.add(select_participant);                     //参与人员 默认值：“当前用户自己”
list1.add(airinfo1);  
list2.add(&quot;null&quot;);                                  //部门的value
list2.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list2.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list2.add(&quot;${apFormName}&quot;);                          //事由 默认值：“表单名称”：
list2.add(select_participant);                     //参与人员 默认值：“当前用户自己”
list2.add(airinfo2);                               //预算明细 默认值：添加“机票”
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  values= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;value&quot;).toString();
	String  showValues= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;showValue&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  sequences= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;sequence&quot;).toString();
	String  requireds= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;required&quot;).toString();
	String  isReadOnlys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;isReadOnly&quot;).toString();
	String values=list1.get(i).toString();
	log.info(&quot;********values********&quot; + values);
	String showValues=list2.get(i).toString();
	log.info(&quot;********showValues********&quot; + showValues);
    String sd1=&quot;{\&quot;bizType\&quot;: \&quot;TRAVEL_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T10:01:27Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;${today}T10:01:27Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+sequences+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: &quot;+isReadOnlys+&quot;,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;:null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;pdfShow\&quot;:true,\&quot;refCostCenterOID\&quot;: null},&quot;;
	String sd2=&quot;{\&quot;bizType\&quot;: \&quot;TRAVEL_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T10:01:27Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;${today}T10:01:27Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+sequences+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: &quot;+isReadOnlys+&quot;,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;:null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;pdfShow\&quot;:true,\&quot;refCostCenterOID\&quot;: null}&quot;;
		if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
		
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;********custFormValues********&quot; + ss);
}</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/travel/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="expenseReportOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseReportOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;bizOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1260657473">${warnTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/travel/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="expenseReportOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseReportOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;bizOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="false">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1628871237">{&quot;success&quot;:true,&quot;rows&quot;:null,&quot;passFlag&quot;:true,&quot;checkResultList&quot;:[],&quot;applicationDTO&quot;:null}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=vars.get(&quot;AllDetal&quot;);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939627">status&quot;:1002</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1760707999">status&quot;:1002,</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939628">status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="Debug Sampler" enabled="true">
            <boolProp name="displayJMeterProperties">false</boolProp>
            <boolProp name="displayJMeterVariables">true</boolProp>
            <boolProp name="displaySystemProperties">false</boolProp>
          </DebugSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="true">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${bxFormName}&quot;);                         //事由 默认值：“表单名称”
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list.add(&quot;&quot;);              //收款单位/个人 默认值：
list.add(&quot;&quot;);					     //源泉税
log.info(list.toString());

StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;value\&quot;: null&quot;,&quot;\&quot;value\&quot;:\&quot;${value5}\&quot;&quot;).replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
vars.put(&quot;bxCustomform&quot;,bxCustomform);
String ss=vars.get(&quot;bxCustomform&quot;);
log.info(&quot;bxCustomform===&quot; + ss);


</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取表单fieldOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">id;customFormFields;referenceOID;customFormProperties;tenantId;setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.id; $.customFormFields; $.referenceOID; $.customFormProperties; $.tenantId; $.setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="差旅报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建差旅报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${customFormFields1},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxReasonExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID;relevantPerson</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID;$.applicantOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxReasonFormValueOID;bxDeptFormValueOID;bxReasonBizOID;bxDeptBizOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxReasonFormValueOID;bxDeptFormValueOID;bxReasonBizOID;bxDeptBizOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;事由&quot;)].formValueOID;$..[?(@.fieldName==&quot;部门&quot;)].formValueOID;$..[?(@.fieldName==&quot;事由&quot;)].bizOID;$..[?(@.fieldName==&quot;部门&quot;)].bizOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <stringProp name="filename"></stringProp>
              <stringProp name="parameters"></stringProp>
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

String json = vars.get(&quot;customFormFields&quot;);
//log.info(&quot;companyid===========&quot;+vars.get(&quot;companyid&quot;));
JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();

for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;出去吃饭&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,null);
}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);
</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用超申请单金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1471470432">&quot;success&quot;:true,&quot;code&quot;:&quot;0000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单禁止提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${${employeeName}}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="撤回" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;entityOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
		&quot;entityType&quot;: 1002&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/approvals/withdraw</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="006公司预算_差旅申请单_其他费用" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="-804973898">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361032">${applicationForm002}</stringProp>
              <stringProp name="0"></stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664698">${expenseType002}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
String select_participant=&quot;[{\\\\\&quot;userOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;,\\\\\&quot;fullName\\\\\&quot;:\\\\\&quot;${fullName}\\\\\&quot;,\\\\\&quot;participantOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;}]&quot;;
String airinfo=&quot;{\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;JPY\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${baseAmount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1}]}]}],\\\\\&quot;amount\\\\\&quot;:${baseAmount}}&quot;;
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list.add(&quot;${apFormName}&quot;);                          //事由 默认值：“表单名称”：
list.add(select_participant);                     //参与人员 默认值：“当前用户自己”
list.add(airinfo);                                //预算明细 默认值：添加“机票”
list.add(&quot;${supplierId},${bankId}&quot;);              //收款单位/个人 默认值：
log.info(list.toString());

StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;value\&quot;: null&quot;,&quot;\&quot;value\&quot;:\&quot;${value5}\&quot;&quot;).replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
	log.info(&quot;valueKey===&quot; + valueKey+&quot;llllllllll&quot;+i);
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String customform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
vars.put(&quot;customform&quot;,customform);
String ss=vars.get(&quot;customform&quot;);
log.info(&quot;customform===&quot; + ss);



</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取表单fieldOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">id;customFormFields;referenceOID;customFormProperties;tenantId;setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.id; $.customFormFields; $.referenceOID; $.customFormProperties; $.tenantId; $.setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型取${expenseTypeName}" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);


String baseAmount=vars.get(&quot;baseAmount&quot;);


String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="参与人列表查看" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/application/participantsList?proposerOID=${userOID}&amp;page=0&amp;size=10&amp;formOID=${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态返回" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">select_participant_data</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

String json = vars.get(&quot;select_participant_data&quot;);
json = json.replaceAll(&quot;null&quot;,&quot;\&quot;null\&quot;&quot;);
JSONArray MYjsonArray = JSON.parseArray(json);
JSONArray ja0 = new JSONArray();
int size = MYjsonArray.size();
for (int i = 0; i &lt;size; i++){
            jsonObject = MYjsonArray.getJSONObject(i);
            JSONObject myobj = new  JSONObject();
		  myobj.put(&quot;userOID&quot;,jsonObject.get(&quot;userOID&quot;));
		  myobj.put(&quot;fullName&quot;,jsonObject.get(&quot;fullName&quot;));
		  myobj.put(&quot;participantOID&quot;,jsonObject.get(&quot;userOID&quot;));
            ja0.add(myobj);
        }
String str =ja0.toString();
str  = str.replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
str  = str.replaceAll(&quot;\&quot;&quot;,&quot;\\\&quot;&quot;);
vars.put(&quot;participant&quot;,str);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="差旅申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存差旅申请单_未添加行程" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;sequence&quot;: 90,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;visibleLoanTypeScope&quot;: null,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnabled&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NewcustFormValues},&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;,&#xd;
	&quot;travelApplication&quot;: {&#xd;
		&quot;manageType&quot;: &quot;1002&quot;,&#xd;
		&quot;travelItinerarys&quot;: [{&#xd;
			&quot;itineraryDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
			&quot;travelElements&quot;: [],&#xd;
			&quot;travelItineraryTraffics&quot;: []&#xd;
		}],&#xd;
		&quot;totalBudget&quot;:  ${baseAmount}&#xd;
	}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">api/travel/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json</stringProp>
                </elementProp>
                <elementProp name="" elementType="Header">
                  <stringProp name="Header.name">Authorization</stringProp>
                  <stringProp name="Header.value">Bearer ${accessToken}</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49587">201</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationOID1;applicantName;applicationParticipant;applicationParticipants;businessCode1;companyOID;corporationOID;costCenterItemOID;createdBy;custFormValues;customFormProperties;departmentName</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationOID;$.applicantName;$.applicationParticipant;$.applicationParticipants;$.businessCode;$.companyOID;$.corporationOID;$.costCenterItemOID;$.createdBy;$.custFormValues;customFormProperties;$.departmentName</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null;null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields===========&quot;+json);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();
for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
            log.info(jsonObject.get(&quot;fieldName&quot;).getAsString());
            
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;部门&quot;))
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;开始日期&quot;)){
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;startDate&quot;));
           		jsonObject.addProperty(&quot;endDate&quot;,vars.get(&quot;startDate&quot;));
             }
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;结束日期&quot;)){
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;startDate&quot;));
           		jsonObject.addProperty(&quot;endDate&quot;,vars.get(&quot;startDate&quot;));
             }
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;事由&quot;))
           		jsonObject.addProperty(&quot;value&quot;,&quot;差旅申请单-关联多申请出差&quot;);
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;参与人员&quot;))
             {
			String vv=vars.get(&quot;participant&quot;);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }

             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }
}
String str =MYjsonArray.toString();
log.info(&quot;NewcustFormValues==:&quot;+MYjsonArray.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取保存的响应" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">Save_response</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicantOID;applicationOID;applicationParticipant;applicationParticipants" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;applicationParticipant;applicationParticipants</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.applicationParticipant;$.applicationParticipants</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="custFormValues;customFormProperties;companyOID;corporationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;customFormProperties;companyOID;corporationOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$.customFormProperties;$.companyOID;$.corporationOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="formOID;businessCode;travelApplication;departmentOID;subCompanyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">formOID;businessCode;travelApplication;departmentOID;subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues[0].formOID;$.businessCode;$.travelApplication;$.applicant.departmentOID;$.subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">data</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;applicantName&quot;: &quot;${employeeName}&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${applicantOID}&quot;,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;applicationParticipant&quot;:${applicationParticipant},&#xd;
	&quot;applicationParticipants&quot;: ${applicationParticipants},&#xd;
	&quot;approvalHistorys&quot;: [],&#xd;
	&quot;businessCode&quot;: &quot;${businessCode}&quot;,&#xd;
	&quot;client&quot;: &quot;react web&quot;,&#xd;
	&quot;closeEnabled&quot;: false,&#xd;
	&quot;closed&quot;: false,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyPaymentAmount&quot;: 0,&#xd;
	&quot;corporationOID&quot;: &quot;${corporationOID}&quot;,&#xd;
	&quot;createdBy&quot;: &quot;${applicantOID}&quot;,&#xd;
	&quot;createdDate&quot;: &quot;${today}T02:20:50Z&quot;,&#xd;
	&quot;createdName&quot;: &quot;${employeeName}&quot;,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;custFormValues&quot;: ${custFormValues},&#xd;
	&quot;customFormProperties&quot;:${customFormProperties},&#xd;
	&quot;departmentName&quot;: &quot;${employeeName}&quot;,&#xd;
	&quot;departmentOID&quot;: &quot;${departmentOID}&quot;,&#xd;
	&quot;externalParticipantDTOs&quot;: [],&#xd;
	&quot;filterFlag&quot;: true,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;formType&quot;: 2001,&#xd;
	&quot;ignoreBudgetWarningFlag&quot;: false,&#xd;
	&quot;isSubmit&quot;: false,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2019-03-01T02:20:50Z&quot;,&#xd;
	&quot;lastRejectType&quot;: 1000,&#xd;
	&quot;loanableAmount&quot;: ${baseAmount},&#xd;
	&quot;originCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;originCurrencyTotalAmount&quot;: ${baseAmount},&#xd;
	&quot;overBudget&quot;: false,&#xd;
	&quot;participantClosed&quot;: false,&#xd;
	&quot;passFlag&quot;: true,&#xd;
	&quot;personalPaymentAmount&quot;: ${baseAmount},&#xd;
	&quot;printButtonDisplay&quot;: false,&#xd;
	&quot;rejectType&quot;: 1000,&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;status&quot;: 1001,&#xd;
	&quot;subCompanyOID&quot;: &quot;${subCompanyOID}&quot;,&#xd;
	&quot;tenantId&quot;: ${tenantId},&#xd;
	&quot;title&quot;: &quot;YS&quot;,&#xd;
	&quot;totalAmount&quot;: ${baseAmount},&#xd;
	&quot;totalBudget&quot;: ${baseAmount},&#xd;
	&quot;travelApplication&quot;: ${travelApplication},&#xd;
	&quot;travelOperationRecords&quot;: [],&#xd;
	&quot;travelOrders&quot;: [],&#xd;
	&quot;type&quot;: 1002,&#xd;
	&quot;version&quot;: 0,&#xd;
	&quot;withApportionment&quot;: false,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;countersignApproverOIDs&quot;: []&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/travel/applications/submit</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="expenseReportOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseReportOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;bizOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1628871237">{&quot;success&quot;:true,&quot;rows&quot;:null,&quot;passFlag&quot;:true,&quot;checkResultList&quot;:[],&quot;applicationDTO&quot;:null}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="009公司预算_费用申请报销_其他费用" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="798623348">expenseTypeName1</stringProp>
            <stringProp name="798623349">expenseTypeName2</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="901873256">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="-986661360">${expenseForm002}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
              <stringProp name="-2136664698">${expenseType002}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId1;bxExpenseTypeOID1;bxExpenseTypeIconName1;iconURL1;bxExpenseTypeKey1" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId1;bxExpenseTypeOID1;bxExpenseTypeIconName1;iconURL1;bxExpenseTypeKey1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId2;bxExpenseTypeOID2;bxExpenseTypeIconName2;iconURL2;bxExpenseTypeKey2" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId2;bxExpenseTypeOID2;bxExpenseTypeIconName2;iconURL2;bxExpenseTypeKey2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName2}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].messageKey</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/types/select/${bxExpenseId2}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="fields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">fields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.fields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="Debug Sampler" enabled="true">
            <boolProp name="displayJMeterProperties">false</boolProp>
            <boolProp name="displayJMeterVariables">true</boolProp>
            <boolProp name="displaySystemProperties">false</boolProp>
          </DebugSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
String  flag=&quot;N&quot;;//定义表示，是否更新
int allAmountI=0;
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap;customFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap;customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);

String airinfo=&quot;{\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID1}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${baseAmount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1}]}]}],\\\\\&quot;amount\\\\\&quot;:${baseAmount}}&quot;;
log.info(&quot;********airinfo &quot;+airinfo+&quot;*******&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                            //是由 默认值：“表单名称”
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(airinfo);                                //预算明细 默认值：添加“机票”
log.info(list.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String customform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String customform=&quot;[&quot;+customform+&quot;]&quot;;
vars.put(&quot;customform&quot;,customform);
String ss=vars.get(&quot;customform&quot;);
log.info(&quot;customform===&quot; + ss.toString());



</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型取${expenseTypeName}" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);


String baseAmount=vars.get(&quot;baseAmount&quot;);


String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: true,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;sequence&quot;: 40,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;visibleLoanTypeScope&quot;: null,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 2,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnabled&quot;: false,&#xd;
	&quot;editable&quot;: false,&#xd;
	&quot;entityType&quot;: null,&#xd;
	&quot;creditPaymentEnable&quot;: false,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;custFormValues&quot;:${custFormValues},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;countersignApproverOIDs&quot;: [],&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">businessCode</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;custFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields===========&quot;+json);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();
for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
            log.info(jsonObject.get(&quot;fieldName&quot;).getAsString());
            
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;部门&quot;))
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
           
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;事由&quot;))
           		jsonObject.addProperty(&quot;value&quot;,&quot;差旅申请单-关联多申请出差&quot;);
            

             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }
}
String str =MYjsonArray.toString();
log.info(&quot;NewcustFormValues==:&quot;+MYjsonArray.toString());
vars.put(&quot;custFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;customFormProperties;expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.customFormProperties;$.expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="true">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID1}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID1}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">data</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="2030752013">${forbidTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="修改费用" enabled="false">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;applicantName&quot;: &quot;${employeeName}&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;applicationParticipant&quot;: ${applicationParticipant},&#xd;
	&quot;applicationParticipants&quot;: [],&#xd;
	&quot;approvalHistorys&quot;: [],&#xd;
	&quot;businessCode&quot;: &quot;${businessCode}&quot;,&#xd;
	&quot;client&quot;: &quot;app&quot;,&#xd;
	&quot;closeEnabled&quot;: false,&#xd;
	&quot;closed&quot;: false,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyPaymentAmount&quot;: 0,&#xd;
	&quot;corporationOID&quot;: &quot;${corporationOID}&quot;,&#xd;
	&quot;createdBy&quot;: &quot;${userOID}&quot;,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:42:33Z&quot;,&#xd;
	&quot;createdName&quot;: &quot;${employeeName}&quot;,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;custFormValues&quot;: ${custFormValues},&#xd;
	&quot;customFormProperties&quot;:${customFormProperties} ,&#xd;
	&quot;departmentName&quot;: &quot;${departmentName}&quot;,&#xd;
	&quot;departmentOID&quot;: &quot;${departmentOID}&quot;,&#xd;
	&quot;expenseApplication&quot;: ${expenseApplication},&#xd;
	&quot;externalParticipantDTOs&quot;: [],&#xd;
	&quot;filterFlag&quot;: true,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;ignoreBudgetWarningFlag&quot;: false,&#xd;
	&quot;isSubmit&quot;: false,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2019-03-22T06:42:33Z&quot;,&#xd;
	&quot;lastRejectType&quot;: 1000,&#xd;
	&quot;loanableAmount&quot;: ${amount},&#xd;
	&quot;originCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;originCurrencyTotalAmount&quot;: ${amount},&#xd;
	&quot;overBudget&quot;: false,&#xd;
	&quot;participantClosed&quot;: false,&#xd;
	&quot;passFlag&quot;: true,&#xd;
	&quot;personalPaymentAmount&quot;: ${amount},&#xd;
	&quot;printButtonDisplay&quot;: false,&#xd;
	&quot;rejectType&quot;: 1000,&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;status&quot;: 1001,&#xd;
	&quot;subCompanyOID&quot;: &quot;${subCompanyOID}&quot;,&#xd;
	&quot;tenantId&quot;: ${tenantId},&#xd;
	&quot;title&quot;: &quot;费用申请单&quot;,&#xd;
	&quot;totalAmount&quot;: ${amount},&#xd;
	&quot;totalBudget&quot;:${amount},&#xd;
	&quot;travelOperationRecords&quot;: [],&#xd;
	&quot;travelOrders&quot;: [],&#xd;
	&quot;type&quot;: 1001,&#xd;
	&quot;withApportionment&quot;: false,&#xd;
	&quot;countersignApproverOIDs&quot;: []&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1260657473">${warnTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="FormValues修改警告费用" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1628871237">{&quot;success&quot;:true,&quot;rows&quot;:null,&quot;passFlag&quot;:true,&quot;checkResultList&quot;:[],&quot;applicationDTO&quot;:null}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1760707999">status&quot;:1002,</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939628">status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单-取餐饮" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId2}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName2}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID2}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId2}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName2}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: &quot;${bxExpenseTypeKey2}&quot;,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;createdDate&quot;: &quot;${today}T13:13:19Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: ${fields},&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: null,&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单成功提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="699540342">${bxSuccessful}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="011公司预算_差旅申请报销_其他费用" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="798623348">expenseTypeName1</stringProp>
            <stringProp name="798623349">expenseTypeName2</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="-278296035">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361032">${applicationForm002}</stringProp>
              <stringProp name="-986661329">${expenseForm003}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
              <stringProp name="-2136664698">${expenseType002}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId1;bxExpenseTypeOID1;bxExpenseTypeIconName1;iconURL1;bxExpenseTypeKey1" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId1;bxExpenseTypeOID1;bxExpenseTypeIconName1;iconURL1;bxExpenseTypeKey1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId2;bxExpenseTypeOID2;bxExpenseTypeIconName2;iconURL2;bxExpenseTypeKey2" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId2;bxExpenseTypeOID2;bxExpenseTypeIconName2;iconURL2;bxExpenseTypeKey2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName2}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].messageKey</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/types/select/${bxExpenseId2}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="fields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">fields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.fields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="Debug Sampler" enabled="true">
            <boolProp name="displayJMeterProperties">false</boolProp>
            <boolProp name="displayJMeterVariables">true</boolProp>
            <boolProp name="displaySystemProperties">false</boolProp>
          </DebugSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
String select_participant=&quot;[{\\\\\&quot;userOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;,\\\\\&quot;fullName\\\\\&quot;:\\\\\&quot;${fullName}\\\\\&quot;,\\\\\&quot;participantOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;}]&quot;;
String airinfo=&quot;{\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID1}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${baseAmount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1}]}]}],\\\\\&quot;amount\\\\\&quot;:${baseAmount}}&quot;;
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list.add(&quot;${apFormName}&quot;);                          //事由 默认值：“表单名称”：
list.add(select_participant);                     //参与人员 默认值：“当前用户自己”
list.add(airinfo);                                //预算明细 默认值：添加“机票”
list.add(&quot;${supplierId},${bankId}&quot;);              //收款单位/个人 默认值：
log.info(list.toString());

StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;value\&quot;: null&quot;,&quot;\&quot;value\&quot;:\&quot;${value5}\&quot;&quot;).replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
	log.info(&quot;valueKey===&quot; + valueKey+&quot;llllllllll&quot;+i);
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String customform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
vars.put(&quot;customform&quot;,customform);
String ss=vars.get(&quot;customform&quot;);
log.info(&quot;customform===&quot; + ss);



</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型取${expenseTypeName1}" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);


String baseAmount=vars.get(&quot;baseAmount&quot;);


String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="参与人列表查看" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/application/participantsList?proposerOID=${userOID}&amp;page=0&amp;size=10&amp;formOID=${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态返回" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">select_participant_data</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

String json = vars.get(&quot;select_participant_data&quot;);
json = json.replaceAll(&quot;null&quot;,&quot;\&quot;null\&quot;&quot;);
JSONArray MYjsonArray = JSON.parseArray(json);
JSONArray ja0 = new JSONArray();
int size = MYjsonArray.size();
for (int i = 0; i &lt;size; i++){
            jsonObject = MYjsonArray.getJSONObject(i);
            JSONObject myobj = new  JSONObject();
		  myobj.put(&quot;userOID&quot;,jsonObject.get(&quot;userOID&quot;));
		  myobj.put(&quot;fullName&quot;,jsonObject.get(&quot;fullName&quot;));
		  myobj.put(&quot;participantOID&quot;,jsonObject.get(&quot;userOID&quot;));
            ja0.add(myobj);
        }
String str =ja0.toString();
str  = str.replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
str  = str.replaceAll(&quot;\&quot;&quot;,&quot;\\\&quot;&quot;);
vars.put(&quot;participant&quot;,str);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="差旅申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存差旅申请" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;sequence&quot;: 90,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;visibleLoanTypeScope&quot;: null,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnabled&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${NewcustFormValues},&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;,&#xd;
	&quot;travelApplication&quot;: {&#xd;
		&quot;manageType&quot;: &quot;1002&quot;,&#xd;
		&quot;travelItinerarys&quot;: [{&#xd;
			&quot;itineraryDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
			&quot;travelElements&quot;: [],&#xd;
			&quot;travelItineraryTraffics&quot;: []&#xd;
		}],&#xd;
		&quot;totalBudget&quot;:  ${baseAmount}&#xd;
	}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/travel/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicantOID;applicationOID;applicationParticipant;applicationParticipants" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;applicationParticipant;applicationParticipants</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.applicationParticipant;$.applicationParticipants</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="custFormValues;customFormProperties;companyOID;corporationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;customFormProperties;companyOID;corporationOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$.customFormProperties;$.companyOID;$.corporationOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="formOID;businessCode;travelApplication;departmentOID;subCompanyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">formOID;businessCode;travelApplication;departmentOID;subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues[0].formOID;$.businessCode;$.travelApplication;$.applicant.departmentOID;$.subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields===========&quot;+json);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();
for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
            log.info(jsonObject.get(&quot;fieldName&quot;).getAsString());
            
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;部门&quot;))
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;开始日期&quot;)){
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;startDate&quot;));
           		jsonObject.addProperty(&quot;endDate&quot;,vars.get(&quot;startDate&quot;));
             }
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;结束日期&quot;)){
           		jsonObject.addProperty(&quot;value&quot;,vars.get(&quot;startDate&quot;));
           		jsonObject.addProperty(&quot;endDate&quot;,vars.get(&quot;startDate&quot;));
             }
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;事由&quot;))
           		jsonObject.addProperty(&quot;value&quot;,&quot;差旅申请单-关联多申请出差&quot;);
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;参与人员&quot;))
             {
			String vv=vars.get(&quot;participant&quot;);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }

             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }
}
String str =MYjsonArray.toString();
log.info(&quot;NewcustFormValues==:&quot;+MYjsonArray.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">data</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-禁止" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/travel/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="expenseReportOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseReportOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;bizOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="2030752013">${forbidTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;companyOID;corporationOID;applicantOID;fullName;createdBy;customFormProperties;departmentOID;businessCode;travelItinerarys</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.companyOID;$.corporationOID;$.applicantOID;$.applicant.fullName;$.applicant.userOID;$.customFormProperties;$.applicant.departmentOID;$.travelApplication.businessCode;$.travelApplication.travelItinerarys</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">travelApplication</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.travelApplication</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">costCenter</stringProp>
              <stringProp name="RegexExtractor.regex">costCenter\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseTypeOID</stringProp>
              <stringProp name="RegexExtractor.regex">expenseTypeOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
String select_participant=&quot;[{\\\\\&quot;userOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;,\\\\\&quot;fullName\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;participantOID\\\\\&quot;:\\\\\&quot;${userOID}\\\\\&quot;}]&quot;;
String airinfo1=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID1}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;${costCenter}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
log.info(&quot;********airinfo1********&quot; + airinfo1);
String airinfo2=
&quot;{\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${baseAmount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID1}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;${costCenter}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;19022600000\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
log.info(&quot;********airinfo2********&quot; + airinfo2);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list1 =new ArrayList(30);
ArrayList list2 =new ArrayList(30);
StringBuilder sb = new StringBuilder();
list1.add(&quot;null&quot;);                                  //部门的value
list1.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list1.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list1.add(&quot;${apFormName}&quot;);                          //事由 默认值：“表单名称”：
list1.add(select_participant);                     //参与人员 默认值：“当前用户自己”
list1.add(airinfo1);  
list2.add(&quot;null&quot;);                                  //部门的value
list2.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list2.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list2.add(&quot;${apFormName}&quot;);                          //事由 默认值：“表单名称”：
list2.add(select_participant);                     //参与人员 默认值：“当前用户自己”
list2.add(airinfo2);                               //预算明细 默认值：添加“机票”
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  values= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;value&quot;).toString();
	String  showValues= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;showValue&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  sequences= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;sequence&quot;).toString();
	String  requireds= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;required&quot;).toString();
	String  isReadOnlys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;isReadOnly&quot;).toString();
	String values=list1.get(i).toString();
	log.info(&quot;********values********&quot; + values);
	String showValues=list2.get(i).toString();
	log.info(&quot;********showValues********&quot; + showValues);
    String sd1=&quot;{\&quot;bizType\&quot;: \&quot;TRAVEL_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T10:01:27Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;${today}T10:01:27Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+sequences+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: &quot;+isReadOnlys+&quot;,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;:null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;pdfShow\&quot;:true,\&quot;refCostCenterOID\&quot;: null},&quot;;
	String sd2=&quot;{\&quot;bizType\&quot;: \&quot;TRAVEL_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T10:01:27Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;${today}T10:01:27Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+sequences+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: &quot;+isReadOnlys+&quot;,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;:null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;pdfShow\&quot;:true,\&quot;refCostCenterOID\&quot;: null}&quot;;
		if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
		
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;********custFormValues********&quot; + ss);
}</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算警告处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;Newfeiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${NewcustFormValues}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/travel/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="expenseReportOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseReportOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;bizOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1260657473">${warnTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="处理custFormValues" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;


String AllDetal = vars.get(&quot;AllDetal&quot;);
JsonObject Detal =new JsonParser().parse(AllDetal).getAsJsonObject();
Detal.remove(&quot;custFormValues&quot;);
log.info(&quot;Detal:&quot;+Detal.toString());
//处理新的预算
String json = vars.get(&quot;custFormValues&quot;);
JsonArray MYjsonArray=new JsonParser().parse(json).getAsJsonArray();
log.info(&quot;MYjsonArray==:&quot;+MYjsonArray.toString());
int size = MYjsonArray.size();

for (int i = 0; i &lt; size; i++){
            JsonObject jsonObject =MYjsonArray.get(i).getAsJsonObject();
             if (jsonObject.get(&quot;fieldName&quot;).getAsString().equals(&quot;预算明细&quot;))
             {
             
			String vv=vars.get(&quot;Newfeiyong&quot;);
			log.info(vv);
             	jsonObject.addProperty(&quot;value&quot;,vv);
             }              
        }

log.info(&quot;MYjsonArray==&quot;+MYjsonArray.toString());

Detal.add(&quot;custFormValues&quot;,MYjsonArray);
String str =Detal.toString();
log.info(&quot;NewcustFormValues==:&quot;+Detal.toString());
vars.put(&quot;NewcustFormValues&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal123</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/travel/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="expenseReportOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">expenseReportOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;bizOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="false">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1736315455">{&quot;success&quot;:true,&quot;rows&quot;:null,&quot;passFlag&quot;:true,&quot;checkResultList&quot;:[]}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">
import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;
boolean ignoreBudgetWarningFlag=true;
String submit_data=vars.get(&quot;AllDetal123&quot;);
submit_data=

//JsonObject  ca=new JsonParser().parse(submit_data).getAsJsonObject();
//log.info(ca.get(&quot;ignoreBudgetWarningFlag&quot;).getAsBoolean());
//ca.add(&quot;ignoreBudgetWarningFlag&quot;,ignoreBudgetWarningFlag);
vars.put(&quot;submitAgin_data&quot;,ca);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单的信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">custFormValues;AllDetal</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.custFormValues;$</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NOTFOUND;NOTFOUND</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data111=vars.get(&quot;AllDetal123&quot;);
submit_data111=submit_data111.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submit_data111);</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="false">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939627">status&quot;:1002</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939627">status&quot;:1002</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939628">status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="Debug Sampler" enabled="true">
            <boolProp name="displayJMeterProperties">false</boolProp>
            <boolProp name="displayJMeterVariables">true</boolProp>
            <boolProp name="displaySystemProperties">false</boolProp>
          </DebugSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${bxFormName}&quot;);                         //事由 默认值：“表单名称”
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(&quot;${today}&quot;);                             //开始日期 默认值：当前日期
list.add(&quot;${today}&quot;);                             //结束日期 默认值：当前日期
list.add(&quot;&quot;);              //收款单位/个人 默认值：
list.add(&quot;&quot;);					     //源泉税
log.info(list.toString());

StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;value\&quot;: null&quot;,&quot;\&quot;value\&quot;:\&quot;${value5}\&quot;&quot;).replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
vars.put(&quot;bxCustomform&quot;,bxCustomform);
String ss=vars.get(&quot;bxCustomform&quot;);
log.info(&quot;bxCustomform===&quot; + ss);


</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="差旅报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建差旅报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;2018-12-18T02:49:53Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-19T08:29:25Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${customFormFields1},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;:${NcustomFormFields}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxReasonExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID;relevantPerson</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID;$.applicantOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxReasonFormValueOID;bxDeptFormValueOID;bxReasonBizOID;bxDeptBizOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxReasonFormValueOID;bxDeptFormValueOID;bxReasonBizOID;bxDeptBizOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;事由&quot;)].formValueOID;$..[?(@.fieldName==&quot;部门&quot;)].formValueOID;$..[?(@.fieldName==&quot;事由&quot;)].bizOID;$..[?(@.fieldName==&quot;部门&quot;)].bizOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <stringProp name="filename"></stringProp>
              <stringProp name="parameters"></stringProp>
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

String json = vars.get(&quot;customFormFields&quot;);
//log.info(&quot;companyid===========&quot;+vars.get(&quot;companyid&quot;));
JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();

for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;出去吃饭&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,null);
}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);
</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看报销单状态-编辑中" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${bxBusinessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/search/my?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId2}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName2}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID2}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId2}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName2}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: &quot;${bxExpenseTypeKey2}&quot;,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;createdDate&quot;: &quot;${today}T13:13:19Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: ${fields},&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: null,&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;YS出租车&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单成功提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="699540342">${bxSuccessful}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
//超申请金额
Double baseAmountI=Double.parseDouble(&quot;${baseAmount}&quot;);
baseAmountI =baseAmountI+1;
String baseAmount=baseAmountI+&quot;&quot;;
vars.put(&quot;baseAmount&quot;,baseAmount);
log.info(&quot;*****超申请金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="014公司预算_费用报销单_管控费用" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="798623348">expenseTypeName1</stringProp>
            <stringProp name="798623349">expenseTypeName2</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="901047236">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="-986661360">${expenseForm002}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664698">${expenseType002}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId1;bxExpenseTypeOID1;bxExpenseTypeIconName1;iconURL1;bxExpenseTypeKey1" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId1;bxExpenseTypeOID1;bxExpenseTypeIconName1;iconURL1;bxExpenseTypeKey1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId2;bxExpenseTypeOID2;bxExpenseTypeIconName2;iconURL2;bxExpenseTypeKey2" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId2;bxExpenseTypeOID2;bxExpenseTypeIconName2;iconURL2;bxExpenseTypeKey2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName2}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName2}&quot;)].messageKey</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/types/select/${bxExpenseId2}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="fields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">fields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.fields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);


//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap;customFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap;customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);

String airinfo=&quot;{\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID1}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName1}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL1}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;JPY\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${baseAmount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;amount\\\\\&quot;:${baseAmount},\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1}]}]}],\\\\\&quot;amount\\\\\&quot;:${baseAmount}}&quot;;
log.info(&quot;********airinfo &quot;+airinfo+&quot;*******&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                            //是由 默认值：“表单名称”
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(airinfo);                                //预算明细 默认值：添加“机票”
log.info(list.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String customform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String customform=&quot;[&quot;+customform+&quot;]&quot;;
vars.put(&quot;customform&quot;,customform);
String ss=vars.get(&quot;customform&quot;);
log.info(&quot;customform===&quot; + ss.toString());



</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单${expenseTypeName1}" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName1}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName1}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName1&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-18T06:50:03Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${customform},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">businessCode</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;customform:&quot;+str);
vars.put(&quot;customform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;customFormProperties;expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.customFormProperties;$.expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="true">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submit_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939627">status&quot;:1002</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939628">status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取表单fieldOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">id;customFormFields;referenceOID;customFormProperties;tenantId;setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.id; $.customFormFields; $.referenceOID; $.customFormProperties; $.tenantId; $.setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取表单fieldOID" enabled="false">
              <stringProp name="JSONPostProcessor.referenceNames">id;customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.id; $.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${customFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormProperties},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;: ${NcustomFormFields}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <stringProp name="filename"></stringProp>
              <stringProp name="parameters"></stringProp>
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

String json = vars.get(&quot;customFormFields&quot;);
//log.info(&quot;companyid===========&quot;+vars.get(&quot;companyid&quot;));
JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();

for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;出去吃饭&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,null);
}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;NcustomFormFields&quot;,str);
</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId2}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName2}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID2}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId2}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName2}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: null,&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="撤回" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;entityOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
		&quot;entityType&quot;: 1002&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/approvals/withdraw</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="015公司预算_费用申请报销1对多_管控费用" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="775896791">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="-986661360">${expenseForm002}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount= Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//警告金额
int amountI=(int)(bgtAmount*0.8+1-expUsedAmount-expReserveAmount);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//报销单第一次金额
int baseAmountI=amountI-1;
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********报销单第一次金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap;customFormFields" enabled="false">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap;customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="false">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);

String airinfo=&quot;{\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;JPY\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1}]}]}],\\\\\&quot;amount\\\\\&quot;:${amount}}&quot;;
log.info(&quot;********airinfo &quot;+airinfo+&quot;*******&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                            //是由 默认值：“表单名称”
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(airinfo);                                //预算明细 默认值：添加“机票”
log.info(list.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String customform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String customform=&quot;[&quot;+customform+&quot;]&quot;;
vars.put(&quot;customform&quot;,customform);
String ss=vars.get(&quot;customform&quot;);
log.info(&quot;customform===&quot; + ss.toString());



</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单${expenseTypeName}" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;amount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-18T06:50:03Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${customform},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">businessCode</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;customform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationParticipant;customFormProperties;expenseApplication" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationParticipant;applicationParticipants;customFormProperties;expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicationParticipant;$.applicationParticipants;$.customFormProperties;$.expenseApplication</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
String exValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}]}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}]}]}&quot;;
String exShowValues=&quot;{\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;active\\\\\&quot;,\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;YS出租车\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部門\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:\\\\\&quot;1\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${employeeName}\\\\\&quot;,\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;required\\\\\&quot;:false}],\\\\\&quot;budgetOID\\\\\&quot;:\\\\\&quot;${budgetOID}\\\\\&quot;,\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:100,\\\\\&quot;apportionmentOID\\\\\&quot;:\\\\\&quot;${apportionmentOID}\\\\\&quot;}],\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;rateWarning\\\\\&quot;:false}]}&quot;;
//value
ArrayList list1 =new ArrayList(30);
list1.add(&quot;${apFormName}&quot;);                        
list1.add(&quot;null&quot;);                     
list1.add(exValues);                               
log.info(list1.toString());
//showValue
ArrayList list2 =new ArrayList(30);
list2.add(&quot;${apFormName}&quot;);                       
list2.add(&quot;null&quot;);                     
list2.add(exShowValues); 
log.info(list2.toString());
//required
ArrayList list3 =new ArrayList(30);
boolean required1=true;
boolean required2=false;
boolean required3=true;
list3.add(required1);                        
list3.add(required2);                   
list3.add(required3);
log.info(list3.toString());
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  formValueOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;formValueOID&quot;).toString();
	String  bizOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;bizOID&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  fieldNames= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  messageKeys= data_obj.get(&quot;custFormValues&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String values=list1.get(i).toString();
	String showValues=list2.get(i).toString();
	String requireds=list3.get(i).toString();
     String sd1=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null},&quot;;
    String sd2=&quot;{\&quot;bizType\&quot;: \&quot;EXPENSE_APPLICATION\&quot;,\&quot;bizTypeId\&quot;: null,\&quot;formValueOID\&quot;: \&quot;&quot;+formValueOIDs+&quot;\&quot;,\&quot;bizOID\&quot;: \&quot;&quot;+bizOIDs+&quot;\&quot;,\&quot;fieldOID\&quot;: \&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;fieldName\&quot;: \&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;fieldTypeId\&quot;: null,\&quot;value\&quot;: \&quot;&quot;+values+&quot;\&quot;,\&quot;showValue\&quot;: \&quot;&quot;+showValues+&quot;\&quot;,\&quot;createdDate\&quot;: \&quot;${today}T12:44:32Z\&quot;,\&quot;lastModifiedDate\&quot;: \&quot;2019-03-21T12:44:32Z\&quot;,\&quot;fieldContent\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;referenceOID\&quot;: null,\&quot;messageKey\&quot;: \&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;dataSource\&quot;: \&quot;\&quot;,\&quot;sequence\&quot;: &quot;+i+&quot;,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;fieldConstraint\&quot;: \&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;attachmentImages\&quot;: [],\&quot;bankAccountNo\&quot;: null,\&quot;promptInfo\&quot;: null,\&quot;pdfShow\&quot;: true,\&quot;refCostCenterOID\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String custFormValues=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String custFormValues=&quot;[&quot;+custFormValues+&quot;]&quot;;
vars.put(&quot;custFormValues&quot;,custFormValues);
String ss=vars.get(&quot;custFormValues&quot;);
log.info(&quot;custFormValues===&quot; + ss.toString());
</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-警告" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submit_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1260657473">${warnTip}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939627">status&quot;:1002</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1760707999">status&quot;:1002,</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**申请单提交后&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**申请单提交后&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939628">status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**申请单审批后&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**申请单审批后&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="false">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="false">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**报销单提交后&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double baseAmount =Double.parseDouble(&quot;${baseAmount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+baseAmount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+1;
expUsedAmount =  expUsedAmount+baseAmount;
expAvailableAmount = expAvailableAmount-baseAmount-1;
log.info(&quot;**计算后金额**报销单提交后&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${baseAmount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用超金额" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1471470432">&quot;success&quot;:true,&quot;code&quot;:&quot;0000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单禁止提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="false">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: 1,&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:34:58Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;:1,&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部門&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${employeeName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${employeeName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**报销单提交后&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**报销单提交后&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="016公司预算_日常报销单_管控费用" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551168261000</longProp>
        <longProp name="ThreadGroup.end_time">1551168261000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
            <stringProp name="-1533484842">taxName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="125174450">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="0"></stringProp>
              <stringProp name="-986661391">${expenseForm001}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
              <stringProp name="1147795337">${tax}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询消费税" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/consumption/tax?size=10&amp;page=0&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="taxCode" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">taxCode</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${taxName}&quot;)]code;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数3" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算3" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);
	if (allAmountI==0)
	allAmountI=1;
	flag=&quot;Y&quot;;	
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算3" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算3" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
log.info(&quot;********Before*******总预算额********&quot;+bgtAmountD);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
log.info(&quot;********Before*******总保留额********&quot;+expReserveAmountD);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
log.info(&quot;********Before*******总发生额********&quot;+expUsedAmountD);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;********Before*******总可用额********&quot;+expAvailableAmountD);
//警告金额
int amountI=(int)(bgtAmountD*0.8+1-expUsedAmountD-expReserveAmountD);
String amount=amountI+&quot;&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//禁止金额
int baseAmountI=(int)(bgtAmountD+1-expUsedAmountD-expReserveAmountD);
String baseAmount=baseAmountI+&quot;&quot;;
log.info(&quot;********Before********禁止金额********&quot;+baseAmount);
vars.put(&quot;baseAmount&quot;,baseAmount);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="formOID;formId,formName;formType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(&quot;${bxFormName}&quot;);                          //事由 默认值：“表单名称”
list.add(&quot;&quot;);		           	//收款单位/个人
list.add(&quot;&quot;);                             //源泉税


StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="日常报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建日常管理报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: false,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: null,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;: ${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;事由&quot;)].bizOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxReasonFormValueOID;bxDeptFormValueOID;bxReasonBizOID;" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxReasonFormValueOID;bxDeptFormValueOID;</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fieldName==&quot;事由&quot;)].formValueOID;$..[?(@.fieldName==&quot;部门&quot;)].formValueOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-673250867">businessCode</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看报销单状态-编辑中" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${bxBusinessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/search/my?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单创建费用-事务(${expenseTypeName})" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取表单的费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}/selected/expense/types?setOfBooksId=${setOfBooksId}&amp;userOID=${userOID}&amp;createManually=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取${expenseTypeName}expenseTypeName" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">Daba_expenseTypeName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取${expenseTypeName}Daba_FormOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">Daba_filedID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取${expenseTypeName}Daba_expenseTypeOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">Daba_expenseTypeOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取表单的费用控件" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/types/select/${Daba_filedID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">OtherPeopleFields</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.fields</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单费用创建" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;CNY&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${Daba_expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${Daba_expenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${Daba_filedID}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;coach&quot;,&#xd;
	&quot;expenseTypeKey&quot;: &quot;expense.type.coach&quot;,&#xd;
	&quot;receiptList&quot;: [],&#xd;
	&quot;amount&quot;: ${baseAmount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;CNY&quot;,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;:${OtherPeopleFields},&#xd;
	&quot;baseCurrency&quot;: &quot;CNY&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;,&#xd;
	&quot;paymentType&quot;: &quot;1001&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用" enabled="false">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount1},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T08:42:20Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: {&#xd;
		&quot;consumptionTaxCode&quot;: &quot;${taxCode}&quot;,&#xd;
		&quot;taxRate&quot;: 10,&#xd;
		&quot;fee&quot;: ${baseAmount1},&#xd;
		&quot;feeWithoutTax&quot;:${baseAmount},&#xd;
		&quot;tax&quot;: ${baseAmount2},&#xd;
		&quot;billingTime&quot;: &quot;1551948138&quot;,&#xd;
		&quot;vatInvoiceCurrencyCode&quot;: &quot;${currency}&quot;&#xd;
	},&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;CNY&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部门&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: null,&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}&#xd;
</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxExpenseTypeInvoiceOID;bxExpenseTypeIconURL;bxExpenseTypeCategorySimpleDTO;bxExpenseTypeData" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxExpenseTypeInvoiceOID;bxExpenseTypeIconURL;bxExpenseTypeCategorySimpleDTO;bxExpenseTypeData</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].expenseTypeCategorySimpleDTO;$.rows.invocieView.data</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单禁止提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoices/${invoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获得apportionmentOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.expenseApportion[0].apportionmentOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交-弹出禁止提示" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="2030752013">${forbidTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="退回账本-删除费用" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="费用退回账本" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/reports/remove/invoice/${bxExpenseReportOID}/${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="账本删除费用" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/invoice/batch?invoiceOIDs=${NewinvoiceOID}</stringProp>
              <stringProp name="HTTPSampler.method">DELETE</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单重新创建费用-事务(${expenseTypeName})" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取表单的费用列表" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}/selected/expense/types?setOfBooksId=${setOfBooksId}&amp;userOID=${userOID}&amp;createManually=true</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取${expenseTypeName}expenseTypeName" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">Daba_expenseTypeName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取${expenseTypeName}Daba_FormOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">Daba_filedID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取${expenseTypeName}Daba_expenseTypeOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">Daba_expenseTypeOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取表单的费用控件" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/types/select/${Daba_filedID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">OtherPeopleFields</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.fields</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单费用创建" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;CNY&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${Daba_expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${Daba_expenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${Daba_filedID}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;coach&quot;,&#xd;
	&quot;expenseTypeKey&quot;: &quot;expense.type.coach&quot;,&#xd;
	&quot;receiptList&quot;: [],&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;CNY&quot;,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;:${OtherPeopleFields},&#xd;
	&quot;baseCurrency&quot;: &quot;CNY&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;,&#xd;
	&quot;paymentType&quot;: &quot;1001&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取invoiceOID" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">NewinvoiceOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.invoiceOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NotFound</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="修改费用" enabled="false">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${NewinvoiceView}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="修改费用" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;
String json = vars.get(&quot;invoiceView&quot;);
log.info(&quot;invoiceView===========&quot;+json);


JsonObject jsonObject=new JsonParser().parse(json).getAsJsonObject();
jsonObject.addProperty(&quot;expenseAmount&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;orderAmount&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;originalApprovedNonVat&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;baseAmount&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;nonVatBaseAmount&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;amount&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;actualCurrencyAmount&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;originalAmount&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;baseApprovedNonVat&quot;,vars.get(&quot;amount&quot;));
jsonObject.addProperty(&quot;aaaaa&quot;,111);

//处理expenseApportion
JsonArray jsonArray=new JsonArray();

JsonObject expenseApportion=jsonObject.getAsJsonArray(&quot;expenseApportion&quot;).get(0).getAsJsonObject();
expenseApportion.addProperty(&quot;amount&quot;,vars.get(&quot;amount&quot;));
expenseApportion.addProperty(&quot;baseCurrencyAmount&quot;,vars.get(&quot;amount&quot;));
jsonArray.add(expenseApportion);
jsonObject.add(&quot;expenseApportion&quot;,jsonArray);




String str =jsonObject.toString();
log.info(&quot;NewinvoiceView==:&quot;+jsonObject.toString());
vars.put(&quot;NewinvoiceView&quot;,str);


</stringProp>
              </BeanShellPreProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用" enabled="false">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${baseAmount1},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T08:42:20Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: {&#xd;
		&quot;consumptionTaxCode&quot;: &quot;${taxCode}&quot;,&#xd;
		&quot;taxRate&quot;: 10,&#xd;
		&quot;fee&quot;: ${baseAmount1},&#xd;
		&quot;feeWithoutTax&quot;:${baseAmount},&#xd;
		&quot;tax&quot;: ${baseAmount2},&#xd;
		&quot;billingTime&quot;: &quot;1551948138&quot;,&#xd;
		&quot;vatInvoiceCurrencyCode&quot;: &quot;${currency}&quot;&#xd;
	},&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;CNY&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${baseAmount},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: true,&#xd;
		&quot;isCostCenterItemEditable&quot;: null,&#xd;
		&quot;proportion&quot;: 1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部门&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: null,&#xd;
		&quot;index&quot;: 0&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}&#xd;
</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxExpenseTypeInvoiceOID;bxExpenseTypeIconURL;bxExpenseTypeCategorySimpleDTO;bxExpenseTypeData" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxExpenseTypeInvoiceOID;bxExpenseTypeIconURL;bxExpenseTypeCategorySimpleDTO;bxExpenseTypeData</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;${bxExpenseType}&quot;)].expenseTypeCategorySimpleDTO;$.rows.invocieView.data</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                <collectionProp name="HeaderManager.headers">
                  <elementProp name="Content-Type" elementType="Header">
                    <stringProp name="Header.name">Content-Type</stringProp>
                    <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                  </elementProp>
                </collectionProp>
              </HeaderManager>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**报销单提交后&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**报销单提交后&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="租户审批报销单审批" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
		&quot;entityType&quot;: 1002&#xd;
	}],&#xd;
	&quot;approvalTxt&quot;: &quot;通过&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1849896742">&quot;successNum&quot;:1,&quot;failNum&quot;:0</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取日常报销单状态-已通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828018">&quot;status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="财务付款" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取付款账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/companyBankAuth/get/own/info/${userOID}?page=0&amp;size=10&amp;setOfBooksId=${setOfBooksId}&amp;userOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取账号相关" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">paymentBankAccount;paymenBanktName;paymentOpeningBank;paymentOperatorNumber</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$[0].companyBank.bankAccountNumber;$[0].companyBank.bankAccountName;$[0].companyBank.bankName;$[0].companyBank.bankCode</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取账号相关1" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">paymentBankBranchCode;paymentBankBranchName</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$[0].companyBank.branchBankCode;$..bankBranchName</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取付款方式" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/payment/api/cash/payment/method/query/lov?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取paymentType" enabled="true">
              <stringProp name="TestPlan.comments">转账付款</stringProp>
              <stringProp name="JSONPostProcessor.referenceNames">paymentType;paymentCode;paymentCategory</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$[0].description;$[0].paymentMethodCode;$[0].paymentMethodCategory</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="财务审核通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;generalLedgerDate&quot;:&quot;${today}&quot;,&quot;entities&quot;:[{&quot;entityOID&quot;:&quot;${bxExpenseReportOID}&quot;,&quot;entityType&quot;:1002}]}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/audit/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1838758625">${auditSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="校验报销单的状态-开票通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/search/my?page=0&amp;size=10&amp;businessCode=${bxBusinessCode}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828014">&quot;status&quot;:1007</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <kg.apc.jmeter.control.ParameterizedController guiclass="kg.apc.jmeter.control.ParameterizedControllerGui" testclass="kg.apc.jmeter.control.ParameterizedController" testname="确认付款" enabled="true">
            <elementProp name="ParameterizedController" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="bxBusinessCode" elementType="Argument">
                  <stringProp name="Argument.name">bxBusinessCode</stringProp>
                  <stringProp name="Argument.value">${bxBusinessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
          </kg.apc.jmeter.control.ParameterizedController>
          <hashTree>
            <IncludeController guiclass="IncludeControllerGui" testclass="IncludeController" testname="Include控制器" enabled="true">
              <stringProp name="IncludeController.includepath"></stringProp>
            </IncludeController>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="017公司预算_费用报销_管控费用_部门分摊" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="457828052">departmentName1</stringProp>
            <stringProp name="457828053">departmentName2</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="-1208355922">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361001">${applicationForm001}</stringProp>
              <stringProp name="-986661360">${expenseForm002}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-717351083">${department001}</stringProp>
              <stringProp name="-717351052">${department002}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId;departmentId1;departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId;departmentId1;departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;$..[?(@.name==&quot;${departmentName1}&quot;)].id;$..[?(@.name==&quot;${departmentName2}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOID;departmentOID;departmentOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID1;departmentOID2;departmentOID3</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID;$..[?(@.name==&quot;${departmentName1}&quot;)].departmentOID;$..[?(@.name==&quot;${departmentName2}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);






</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount= Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount= Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//警告金额
int amountI=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
//String amount=amountI+&quot;&quot;;
String amount=&quot;100&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//第一个部门分摊金额
int amountI1=(int)(amountI*0.1);
//String amount1=amountI1+&quot;&quot;;
String amount1=&quot;1&quot;;
vars.put(&quot;amount1&quot;,amount1);
log.info(&quot;********amount1********&quot;+amount1);
//第二个部门分摊金额
int amountI2=(int)(amountI*0.2);
//String amount2=amountI2+&quot;&quot;;
String amount2=&quot;20&quot;;
vars.put(&quot;amount2&quot;,amount2);
log.info(&quot;********amount2********&quot;+amount2);
//第三个部门分摊金额
int amountI3=(int)(amountI*0.7);
//String amount3=amountI3+&quot;&quot;;
String amount3=&quot;70&quot;;
vars.put(&quot;amount3&quot;,amount3);
log.info(&quot;********amount3********&quot;+amount3);




</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="最新的处理预算" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.text.DecimalFormat;
import java.math.BigDecimal;


//总预算
Double bgtAmount= Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount= Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//警告金额
double amountI=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;********Before********警告原始金额********&quot;+String.valueOf(amountI));
BigDecimal b = new BigDecimal(amountI*100);
double amou = b.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()/100;
String amount=amou+&quot;&quot;;

log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);

//第一个部门分摊金额
double p1t=amountI*0.1;
BigDecimal b = new BigDecimal(p1t*100);
double amount1 = b.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()/100;
vars.put(&quot;amount1&quot;,amount1+&quot;&quot;);
log.info(&quot;********amount1********&quot;+amount1);




//第二个部门分摊金额
double p2t=amountI*0.2;
BigDecimal b2 = new BigDecimal(p2t*100);
double amount2 = b2.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()/100;
vars.put(&quot;amount2&quot;,amount2+&quot;&quot;);
log.info(&quot;********amount2********&quot;+amount2);



//第三个部门分摊金额
double p3t=(amountI*0.7);
BigDecimal b3 = new BigDecimal(p3t*100);
double amount3 = b3.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()/100;
vars.put(&quot;amount3&quot;,amount3+&quot;&quot;);
log.info(&quot;********amount3********&quot;+amount3);




</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap;customFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap;customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单取${expenseTypeName}" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型expenseTypeName" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="未分摊预算信息处理" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);
String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="分摊预算信息处理-ok" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);

//String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

String departmentName1=vars.get(&quot;departmentName&quot;);
String departmentOid1=vars.get(&quot;departmentOID1&quot;);
String costCenterOID1=vars.get(&quot;departmentOID1&quot;);


String departmentName2=vars.get(&quot;departmentName1&quot;);
String departmentOid2=vars.get(&quot;departmentOID2&quot;);
String costCenterOID3=vars.get(&quot;departmentOID2&quot;);

String departmentName3=vars.get(&quot;departmentName2&quot;);
String departmentOid3=vars.get(&quot;departmentOID3&quot;);
String costCenterOID3=vars.get(&quot;departmentOID3&quot;);



String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;ship\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;ship\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:${amount},\&quot;baseCurrencyAmount\&quot;:${amount},\&quot;actualCurrencyRate\&quot;:1,\&quot;companyCurrencyRate\&quot;:1,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0,\&quot;apportionmentDTOList\&quot;:[{\&quot;entityType\&quot;:1001,\&quot;scale\&quot;:${amount1},\&quot;amount\&quot;:${amount1},\&quot;defaultApportion\&quot;:true,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName1+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;pathDepth\&quot;:1,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID1+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName1+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid1+&quot;\&quot;}]}]},{\&quot;entityType\&quot;:1001,\&quot;scale\&quot;:${amount3},\&quot;amount\&quot;:${amount3},\&quot;defaultApportion\&quot;:false,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName2+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID3+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName2+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid2+&quot;\&quot;}],\&quot;pathDepth\&quot;:1}]},{\&quot;entityType\&quot;:1001,\&quot;scale\&quot;:${amount2},\&quot;amount\&quot;:${amount2},\&quot;defaultApportion\&quot;:false,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName3+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID3+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName3+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid3+&quot;\&quot;}],\&quot;pathDepth\&quot;:1}]}]}],\&quot;amount\&quot;:${amount}}&quot;;





log.info(&quot;预算信息==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="分摊预算信息处理-ok" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);

//String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

String departmentName1=vars.get(&quot;departmentName&quot;);
String departmentOid1=vars.get(&quot;departmentOID1&quot;);
String costCenterOID1=vars.get(&quot;departmentOID1&quot;);


String departmentName2=vars.get(&quot;departmentName1&quot;);
String departmentOid2=vars.get(&quot;departmentOID2&quot;);
String costCenterOID3=vars.get(&quot;departmentOID2&quot;);

String departmentName3=vars.get(&quot;departmentName2&quot;);
String departmentOid3=vars.get(&quot;departmentOID3&quot;);
String costCenterOID3=vars.get(&quot;departmentOID3&quot;);



String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;ship\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;ship\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:${amount},\&quot;baseCurrencyAmount\&quot;:${amount},\&quot;actualCurrencyRate\&quot;:1,\&quot;companyCurrencyRate\&quot;:1,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0,\&quot;apportionmentDTOList\&quot;:[{\&quot;entityType\&quot;:1001,\&quot;scale\&quot;:10,\&quot;amount\&quot;:${amount1},\&quot;defaultApportion\&quot;:true,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName1+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;pathDepth\&quot;:1,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID1+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName1+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid1+&quot;\&quot;}]}]},{\&quot;entityType\&quot;:1001,\&quot;scale\&quot;:70,\&quot;amount\&quot;:${amount3},\&quot;defaultApportion\&quot;:false,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName2+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID3+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName2+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid2+&quot;\&quot;}],\&quot;pathDepth\&quot;:1}]},{\&quot;entityType\&quot;:1001,\&quot;scale\&quot;:20,\&quot;amount\&quot;:${amount2},\&quot;defaultApportion\&quot;:false,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName3+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID3+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName3+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid3+&quot;\&quot;}],\&quot;pathDepth\&quot;:1}]}]}],\&quot;amount\&quot;:${amount}}&quot;;





log.info(&quot;预算信息==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-18T06:50:03Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${customform},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">businessCode</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;customform:&quot;+str);
vars.put(&quot;customform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1760707999">status&quot;:1002,</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1760707999">status&quot;:1002,</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**申请单提交&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**申请单提交&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939628">status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**申请单审批后&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**申请单审批后&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-20T01:55:33Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${bxCustomFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="最新的处理预算" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.text.DecimalFormat;
import java.math.BigDecimal;


//总预算
Double bgtAmount= Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount= Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//警告金额
double amountI=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount)+1;
log.info(&quot;********Before********警告原始金额********&quot;+String.valueOf(amountI));
BigDecimal b = new BigDecimal(amountI*100);
double amou = b.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()/100;
String amount=amou+&quot;&quot;;

log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);

//第一个部门分摊金额
double p1t=amountI*0.1;
BigDecimal b = new BigDecimal(p1t*100);
double amount1 = b.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()/100;
vars.put(&quot;amount1&quot;,amount1+&quot;&quot;);
log.info(&quot;********amount1********&quot;+amount1);




//第二个部门分摊金额
double p2t=amountI*0.2;
BigDecimal b2 = new BigDecimal(p2t*100);
double amount2 = b2.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()/100;
vars.put(&quot;amount2&quot;,amount2+&quot;&quot;);
log.info(&quot;********amount2********&quot;+amount2);



//第三个部门分摊金额
double p3t=(amountI*0.7);
BigDecimal b3 = new BigDecimal(p3t*100);
double amount3 = b3.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()/100;
vars.put(&quot;amount3&quot;,amount3+&quot;&quot;);
log.info(&quot;********amount3********&quot;+amount3);




</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${amount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId;applicationApportionmentId1;applicationApportionmentId2;</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$[0].applicationApportionmentId;$[1].applicationApportionmentId;$[2].applicationApportionmentId;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加警告费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:52:57Z&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount1},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${departmentName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: false,&#xd;
		&quot;isCostCenterItemEditable&quot;: true,&#xd;
		&quot;proportion&quot;: 0.1,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部门&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID1}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID1}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId},&#xd;
		&quot;index&quot;: 0&#xd;
	}, {&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount3},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${departmentName1}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: false,&#xd;
		&quot;isEditable&quot;: false,&#xd;
		&quot;isCostCenterItemEditable&quot;: true,&#xd;
		&quot;proportion&quot;: 0.7,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部门&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID2}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName1}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID2}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName1}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId1},&#xd;
		&quot;index&quot;: 1&#xd;
	}, {&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount2},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${departmentName2}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: false,&#xd;
		&quot;isEditable&quot;: false,&#xd;
		&quot;isCostCenterItemEditable&quot;: true,&#xd;
		&quot;proportion&quot;: 0.2,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部门&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID3}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName2}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID3}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName2}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId2},&#xd;
		&quot;index&quot;: 2&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**报销单提交后&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**报销单提交后&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="018公司预算_费用报销_管控费用_成本中心分摊" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1551319549000</longProp>
        <longProp name="ThreadGroup.end_time">1551319549000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <UserParameters guiclass="UserParametersGui" testclass="UserParameters" testname="用户参数" enabled="true">
          <collectionProp name="UserParameters.names">
            <stringProp name="-508582744">companyName</stringProp>
            <stringProp name="-1728524711">employeeName</stringProp>
            <stringProp name="-1829107106">organizationName</stringProp>
            <stringProp name="-222811490">structureName</stringProp>
            <stringProp name="688906115">versionName</stringProp>
            <stringProp name="-1008330181">scenarioName</stringProp>
            <stringProp name="-2055127748">journalTypeName</stringProp>
            <stringProp name="1177331774">itemName</stringProp>
            <stringProp name="1171462780">setOfBooksName</stringProp>
            <stringProp name="-1915237698">apFormName</stringProp>
            <stringProp name="608482277">bxFormName</stringProp>
            <stringProp name="-262326019">departmentName</stringProp>
            <stringProp name="-944069283">expenseTypeName</stringProp>
            <stringProp name="-593192318">costCenter</stringProp>
            <stringProp name="373071388">costCenterItem1</stringProp>
            <stringProp name="373071389">costCenterItem2</stringProp>
          </collectionProp>
          <collectionProp name="UserParameters.thread_values">
            <collectionProp name="-1029855989">
              <stringProp name="1937084791">${company}</stringProp>
              <stringProp name="-324244328">${employee}</stringProp>
              <stringProp name="1815567839">${YSORG001}</stringProp>
              <stringProp name="601024974">${YSstructure001}</stringProp>
              <stringProp name="1917159573">${YSVN001}</stringProp>
              <stringProp name="651336733">${YSSCR001}</stringProp>
              <stringProp name="-191183621">${YSJNType001}</stringProp>
              <stringProp name="-1660902678">${YSProduct001}</stringProp>
              <stringProp name="-1277953366">${books}</stringProp>
              <stringProp name="1417361063">${applicationForm003}</stringProp>
              <stringProp name="-986661298">${expenseForm004}</stringProp>
              <stringProp name="1543603764">${department}</stringProp>
              <stringProp name="-2136664729">${expenseType001}</stringProp>
              <stringProp name="-189393660">${costCenter}</stringProp>
              <stringProp name="393780408">${costCenterItem1}</stringProp>
              <stringProp name="393780439">${costCenterItem2}</stringProp>
            </collectionProp>
          </collectionProp>
          <boolProp name="UserParameters.per_iteration">false</boolProp>
        </UserParameters>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="租户登录" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="1242003">预算</stringProp>
            <stringProp name="310230146">公司预算登录登</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询基础数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询登录账号" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/account?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="tenantId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">tenantId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.tenantId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询账套" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/setOfBooks/query/dto?setOfBooksCode=&amp;setOfBooksName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="booksId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.setOfBooksName==&quot;${setOfBooksName}&quot;)].setOfBooksId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询公司" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/company/by/term?page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="companyId;companyCode;companyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">companyId;companyCode;companyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${companyName}&quot;)].id;$..[?(@.name==&quot;${companyName}&quot;)].companyCode;$..[?(@.name==&quot;${companyName}&quot;)].companyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询部门" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/department/tenant/all?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].id;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="departmentOid" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${departmentName}&quot;)].departmentOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询员工" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/users/v3/search?sort=status&amp;page=0&amp;size=10&amp;keyword=&amp;status=all&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="employeeId;userOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">employeeId;userOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.fullName==&quot;${employeeName}&quot;)].id;$..[?(@.fullName==&quot;${employeeName}&quot;)].userOID;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/expense/types/groupby/category?setOfBooksId=${setOfBooksId}&amp;createdManually=&amp;enabled=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxExpenseId;bxExpenseTypeOID;bxExpenseTypeIconName;iconURL;bxExpenseTypeKey</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].id;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconName;$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL;$..[?(@.name==&quot;${expenseTypeName}&quot;)].messageKey;</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询成本中心" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/cost/center/company?page=0&amp;size=25&amp;setOfBooksId=${setOfBooksId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="costCenterOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">costCenterOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${costCenter}&quot;)].costCenterOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询成本中心项" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/cost/center/items/${costCenterOID}/all?page=0&amp;size=10&amp;keyword=&amp;sort=&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="costCenterItemOID1;costCenterItemOID2" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">costCenterItemOID1;costCenterItemOID2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${costCenterItem1}&quot;)].costCenterItemOID;$..[?(@.name==&quot;${costCenterItem2}&quot;)].costCenterItemOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算配置参数" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算组织" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/organizations/query?page=0&amp;pageSize=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="organizationId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">organizationId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.organizationName==&quot;${organizationName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算场景" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/scenarios/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="scenarioId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">scenarioId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.scenarioName==&quot;${scenarioName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算版本" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/versions/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="versionId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">versionId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.versionName==&quot;${versionName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算表" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/structures/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="structureId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">structureId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.structureName==&quot;${structureName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/itemType/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/items/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="itemId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">itemId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.itemName==&quot;${itemName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目组" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/groups/query?page=0&amp;pageSize=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制策略" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/strategies/query?page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询控制规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/control/rules/query?organizationId=${organizationId}&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目映射" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/mapping/match/group?orgId=${organizationId}&amp;groupCode=&amp;groupName=&amp;page=0&amp;size=10&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询日记账类型" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/journal/types/query?&amp;page=0&amp;size=10&amp;organizationId=${organizationId}&amp;roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalTypeId" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">journalTypeId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.journalTypeName==&quot;${journalTypeName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算半年度" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/enumerations/template/by/type?type=2031</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="periodSemiannual" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">periodSemiannual</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.messageKey==&quot;${Semiannual}&quot;)].value</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Notfound</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**初始查询预算结果：**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//申请单的金额
int temp=(int)(bgtAmount*0.8-expUsedAmount-expReserveAmount);
log.info(&quot;**************temp &quot;+temp);
int allAmountI=0;
String  flag=&quot;N&quot;;//定义表示，是否更新
if(temp&gt;10){
	allAmountI=temp;
}else{
	allAmountI=(int)((20+expUsedAmount+expReserveAmount)/0.8-bgtAmount);	
	if (allAmountI==0)
	allAmountI=1;
flag=&quot;Y&quot;;
}
String allAmount=allAmountI+&quot;&quot;;
log.info(&quot;**************allAmount &quot;+allAmount);
vars.put(&quot;allAmount&quot;,allAmount);
log.info(&quot;**************allAmount &quot;+allAmount);
log.info(&quot;需要更新否:******&quot;+flag);
vars.put(&quot;flag&quot;,flag);





</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${flag}&quot; !=&quot;N&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建预算日记账_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交预算参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;dto&quot;: {&#xd;
		&quot;companyId&quot;: ${companyId},&#xd;
		&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
		&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
		&quot;organizationName&quot;: &quot;${organizationName}&quot;,&#xd;
		&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
		&quot;structureName&quot;: &quot;${structureName}&quot;,&#xd;
		&quot;description&quot;: &quot;&quot;,&#xd;
		&quot;reversedFlag&quot;: &quot;N&quot;,&#xd;
		&quot;employeeId&quot;: &quot;${employeeId}&quot;,&#xd;
		&quot;employeeName&quot;: &quot;${employeeName}&quot;,&#xd;
		&quot;unitName&quot;: &quot;periodNumber&quot;,&#xd;
		&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
		&quot;versionName&quot;: &quot;${versionName}&quot;,&#xd;
		&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
		&quot;scenarioName&quot;: &quot;${scenarioName}&quot;,&#xd;
		&quot;status&quot;: &quot;NEW&quot;,&#xd;
		&quot;journalTypeId&quot;: &quot;${journalTypeId}&quot;,&#xd;
		&quot;journalTypeName&quot;: &quot;${journalTypeName}&quot;,&#xd;
		&quot;periodStrategy&quot;: &quot;MONTH&quot;,&#xd;
		&quot;versionNumber&quot;: &quot;1&quot;,&#xd;
		&quot;attachmentOID&quot;: [],&#xd;
		&quot;formOid&quot;: null,&#xd;
		&quot;documentType&quot;: null&#xd;
	},&#xd;
	&quot;list&quot;: []&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="journalHeaderId" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">journalHeaderId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="更新预算日记账行" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;companyName&quot;: &quot;${companyName}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;departmentName&quot;: &quot;&quot;,&#xd;
	&quot;unitId&quot;: &quot;&quot;,&#xd;
	&quot;employeeName&quot;: &quot;&quot;,&#xd;
	&quot;employeeId&quot;: &quot;&quot;,&#xd;
	&quot;itemName&quot;: &quot;${itemName}&quot;,&#xd;
	&quot;itemId&quot;: &quot;${itemId}&quot;,&#xd;
	&quot;periodName&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodYear&quot;: ${periodYear},&#xd;
	&quot;periodQuarter&quot;: ${periodQuarter},&#xd;
	&quot;periodQuarterName&quot;: ${periodQuarterName},&#xd;
	&quot;periodSemiannual&quot;:&quot;${periodSemiannual}&quot;,&#xd;
&quot;periodSemiannualName&quot;:&quot;${periodSemiannual}&quot;,&#xd;
	&quot;currency&quot;: &quot;CNY&quot;,&#xd;
	&quot;rate&quot;: 1,&#xd;
	&quot;amount&quot;: ${allAmount},&#xd;
	&quot;functionalAmount&quot;: &quot;${allAmount}&quot;,&#xd;
	&quot;quantity&quot;: 1,&#xd;
	&quot;versionNumber&quot;: 1,&#xd;
	&quot;isNew&quot;: true,&#xd;
	&quot;journalHeaderId&quot;: &quot;${journalHeaderId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/insertOrUpdateLine</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交审批" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/submitJournal/${journalHeaderId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审核通过" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">[&quot;${journalHeaderId}&quot;]</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/journals/balance/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">queryID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">totalNumber;bgtAmount;expReserveAmount;expUsedAmount;expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">//总预算
Double bgtAmountD = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmountD = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmountD = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmountD = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**beforer**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
//警告金额
int amountI=(int)(bgtAmountD*0.8-expUsedAmountD-expReserveAmountD);
//String amount=amountI+&quot;&quot;;
String amount=&quot;100&quot;;
log.info(&quot;********Before********警告金额********&quot;+amount);
vars.put(&quot;amount&quot;,amount);
//第一个成本中心项分摊金额
int amountI1=(int)(amountI*0.2);
//String amount1=amountI1+&quot;&quot;;
String amount1=&quot;20&quot;;
vars.put(&quot;amount1&quot;,amount1);
log.info(&quot;********amount1********&quot;+amount1);
//第二个成本中心项分摊金额
int amountI2=(int)(amountI*0.8);
//String amount2=amountI2+&quot;&quot;;
String amount2=&quot;80&quot;;
vars.put(&quot;amount2&quot;,amount2);
log.info(&quot;********amount2********&quot;+amount2);
//成本中心分摊 
int amountI3=(int)(amountI*0.5);
//String amount3=amountI3+&quot;&quot;;
String amount3=&quot;50&quot;;
vars.put(&quot;amount3&quot;,amount3);
log.info(&quot;********amount3********&quot;+amount3);

</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询申请表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=101</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="apFormOID;apFormId;apFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">apFormOID;apFormId;apFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${apFormName}&quot;)].formOID;$..[?(@.formName==&quot;${apFormName}&quot;)].formId;$..[?(@.formName==&quot;${apFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询申请单表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${apFormOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="select_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">select_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="customFormProperties;customFormPropertyMap;customFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormProperties;customFormPropertyMap;customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="fieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">fieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
String airinfo=&quot;{\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:80,\\\\\&quot;amount\\\\\&quot;:${amount1},\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1},{\\\\\&quot;type\\\\\&quot;:0,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;成本中心\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${costCenterItem1}\\\\\&quot;,\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${costCenterItemOID1}\\\\\&quot;,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;${costCenterOID}\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${costCenterItem1}\\\\\&quot;,\\\\\&quot;costCenterItemOID\\\\\&quot;:\\\\\&quot;${costCenterItemOID1}\\\\\&quot;}]}]},{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:20,\\\\\&quot;amount\\\\\&quot;:${amount2},\\\\\&quot;defaultApportion\\\\\&quot;:false,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;pathDepth\\\\\&quot;:1},{\\\\\&quot;type\\\\\&quot;:0,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;成本中心\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${costCenterItem2}\\\\\&quot;,\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${costCenterItemOID2}\\\\\&quot;,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;${costCenterOID}\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${costCenterItem2}\\\\\&quot;,\\\\\&quot;costCenterItemOID\\\\\&quot;:\\\\\&quot;${costCenterItemOID2}\\\\\&quot;}]}]}]}],\\\\\&quot;amount\\\\\&quot;:${amount}}&quot;;
log.info(&quot;********airinfo &quot;+airinfo+&quot;*******&quot;);
int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                            //是由 默认值：“表单名称”
list.add(&quot;${departmentOID}&quot;);                     //部门的value
list.add(airinfo);                                //预算明细 默认值：添加“机票”
list.add(&quot;null&quot;);                                  
//log.info(&quot;aaaaaaaaaaaaaa:&quot;+list.toString());

StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${apFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
		}
}
String customform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String customform=&quot;[&quot;+customform+&quot;]&quot;;
vars.put(&quot;customform&quot;,customform);
String ss=vars.get(&quot;customform&quot;);
log.info(&quot;customform===&quot; + ss.toString());</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;fieldName_matchNr&quot;);
String airinfo=&quot;{\\\\\&quot;budgetDetail\\\\\&quot;:[{\\\\\&quot;expenseType\\\\\&quot;:{\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${expenseTypeName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;},\\\\\&quot;expenseTypeOID\\\\\&quot;:\\\\\&quot;${bxExpenseTypeOID}\\\\\&quot;,\\\\\&quot;iconName\\\\\&quot;:\\\\\&quot;${bxExpenseTypeIconName}\\\\\&quot;,\\\\\&quot;iconURL\\\\\&quot;:\\\\\&quot;${iconURL}\\\\\&quot;,\\\\\&quot;paymentType\\\\\&quot;:1001,\\\\\&quot;currencyCode\\\\\&quot;:\\\\\&quot;${currency}\\\\\&quot;,\\\\\&quot;amount\\\\\&quot;:${amount},\\\\\&quot;baseCurrencyAmount\\\\\&quot;:${amount},\\\\\&quot;actualCurrencyRate\\\\\&quot;:1,\\\\\&quot;companyCurrencyRate\\\\\&quot;:1,\\\\\&quot;updateRate\\\\\&quot;:true,\\\\\&quot;rateProhibit\\\\\&quot;:false,\\\\\&quot;rateWarning\\\\\&quot;:false,\\\\\&quot;ratePercentage\\\\\&quot;:0,\\\\\&quot;apportionmentDTOList\\\\\&quot;:[{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:80,\\\\\&quot;amount\\\\\&quot;:${amount1},\\\\\&quot;defaultApportion\\\\\&quot;:true,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;pathDepth\\\\\&quot;:1},{\\\\\&quot;type\\\\\&quot;:0,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;成本中心\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${costCenterItem1}\\\\\&quot;,\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${costCenterItemOID1}\\\\\&quot;,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;${costCenterOID}\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${costCenterItem1}\\\\\&quot;,\\\\\&quot;costCenterItemOID\\\\\&quot;:\\\\\&quot;${costCenterItemOID1}\\\\\&quot;}]}]},{\\\\\&quot;entityType\\\\\&quot;:1001,\\\\\&quot;scale\\\\\&quot;:20,\\\\\&quot;amount\\\\\&quot;:${amount2},\\\\\&quot;defaultApportion\\\\\&quot;:false,\\\\\&quot;costCenterItems\\\\\&quot;:[{\\\\\&quot;type\\\\\&quot;:1,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;部门\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;00000000-0000-0000-0000-000000000000\\\\\&quot;,\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;path\\\\\&quot;:\\\\\&quot;${departmentName}\\\\\&quot;,\\\\\&quot;departmentOid\\\\\&quot;:\\\\\&quot;${departmentOID}\\\\\&quot;}],\\\\\&quot;pathDepth\\\\\&quot;:1},{\\\\\&quot;type\\\\\&quot;:0,\\\\\&quot;fieldName\\\\\&quot;:\\\\\&quot;成本中心\\\\\&quot;,\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${costCenterItem2}\\\\\&quot;,\\\\\&quot;costCenterOID\\\\\&quot;:\\\\\&quot;${costCenterItemOID2}\\\\\&quot;,\\\\\&quot;required\\\\\&quot;:false,\\\\\&quot;costCenter\\\\\&quot;:\\\\\&quot;${costCenterOID}\\\\\&quot;,\\\\\&quot;value\\\\\&quot;:[{\\\\\&quot;name\\\\\&quot;:\\\\\&quot;${costCenterItem2}\\\\\&quot;,\\\\\&quot;costCenterItemOID\\\\\&quot;:\\\\\&quot;${costCenterItemOID2}\\\\\&quot;}]}]}]}],\\\\\&quot;amount\\\\\&quot;:${amount}}&quot;;
log.info(&quot;********airinfo &quot;+airinfo+&quot;*******&quot;);
vars.put(&quot;feiyong&quot;,airinfo);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="referenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">referenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <DebugPostProcessor guiclass="TestBeanGUI" testclass="DebugPostProcessor" testname="Debug PostProcessor" enabled="true">
              <boolProp name="displayJMeterProperties">false</boolProp>
              <boolProp name="displayJMeterVariables">true</boolProp>
              <boolProp name="displaySamplerProperties">true</boolProp>
              <boolProp name="displaySystemProperties">false</boolProp>
            </DebugPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取申请单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询费用类类型处理预算" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取单据可见费用类型-全控件费用申请单取${expenseTypeName}" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v2/custom/forms/${apFormOID}/selected/expense/types?createManually=true&amp;applicantOID=${userOID}&amp;setOfBooksId=${setOfBooksId}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型OID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpenseTypeOID;canyinexpenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeOID;$..[?(@.name==&quot;${expenseTypeName}&quot;)].expenseTypeCategoryOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取费用类型expenseTypeName" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">canyinexpensename</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].name</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="提取餐饮iconURL" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">iconURL</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.name==&quot;${expenseTypeName}&quot;)].iconURL</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="分摊预算信息处理" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);

//String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;coach\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:1001,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:&quot;+baseAmount+&quot;,\&quot;baseCurrencyAmount\&quot;:&quot;+baseAmount+&quot;,\&quot;actualCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;companyCurrencyRate\&quot;:\&quot;1.0000\&quot;,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0}],\&quot;amount\&quot;:&quot;+baseAmount+&quot;}&quot;;

String departmentName1=vars.get(&quot;departmentName&quot;);
String departmentOid1=vars.get(&quot;departmentOID1&quot;);
String costCenterOID1=vars.get(&quot;departmentOID1&quot;);


String departmentName2=vars.get(&quot;departmentName1&quot;);
String departmentOid2=vars.get(&quot;departmentOID2&quot;);
String costCenterOID3=vars.get(&quot;departmentOID2&quot;);

String departmentName3=vars.get(&quot;departmentName2&quot;);
String departmentOid3=vars.get(&quot;departmentOID3&quot;);
String costCenterOID3=vars.get(&quot;departmentOID3&quot;);



String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;ship\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;ship\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:${amount}1,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:${amount},\&quot;baseCurrencyAmount\&quot;:${amount},\&quot;actualCurrencyRate\&quot;:1,\&quot;companyCurrencyRate\&quot;:1,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0,\&quot;apportionmentDTOList\&quot;:[{\&quot;entityType\&quot;:${amount}1,\&quot;scale\&quot;:${amount1},\&quot;amount\&quot;:${amount1},\&quot;defaultApportion\&quot;:true,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName1+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;pathDepth\&quot;:1,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID1+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName1+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid1+&quot;\&quot;}]}]},{\&quot;entityType\&quot;:${amount}1,\&quot;scale\&quot;:${amount3},\&quot;amount\&quot;:${amount3},\&quot;defaultApportion\&quot;:false,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName2+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID3+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName2+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid2+&quot;\&quot;}],\&quot;pathDepth\&quot;:1}]},{\&quot;entityType\&quot;:${amount}1,\&quot;scale\&quot;:${amount2},\&quot;amount\&quot;:${amount2},\&quot;defaultApportion\&quot;:false,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName3+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOID3+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName3+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOid3+&quot;\&quot;}],\&quot;pathDepth\&quot;:1}]}]}],\&quot;amount\&quot;:${amount}}&quot;;





log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="分摊预算信息处理" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonParser;
import com.google.gson.JsonObject;

String iconURL=vars.get(&quot;iconURL&quot;);
String baseAmount=vars.get(&quot;baseAmount&quot;);
String canyinexpenseTypeOID=vars.get(&quot;canyinexpenseTypeOID&quot;);
String expenseTypeName=vars.get(&quot;expenseTypeName&quot;);


String departmentName=vars.get(&quot;departmentName&quot;);
String departmentOID=vars.get(&quot;departmentOID&quot;);
String costCenterOID1=vars.get(&quot;departmentOID1&quot;);




String costCenterOid=vars.get(&quot;costCenterOID&quot;);
String costCenterOid1=vars.get(&quot;costCenterItemOID1&quot;);
String costCenterOid2=vars.get(&quot;costCenterItemOID2&quot;);


String costCenterName=vars.get(&quot;costCenter&quot;);
String costCenterName1=vars.get(&quot;costCenterItem1&quot;);
String costCenterName2=vars.get(&quot;costCenterItem2&quot;);

String aa= &quot;{\&quot;budgetDetail\&quot;:[{\&quot;expenseType\&quot;:{\&quot;iconName\&quot;:\&quot;ship\&quot;,\&quot;name\&quot;:\&quot;&quot;+expenseTypeName+&quot;\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;},\&quot;expenseTypeOID\&quot;:\&quot;&quot;+canyinexpenseTypeOID+&quot;\&quot;,\&quot;iconName\&quot;:\&quot;ship\&quot;,\&quot;iconURL\&quot;:\&quot;&quot;+iconURL+&quot;\&quot;,\&quot;paymentType\&quot;:${amount}1,\&quot;currencyCode\&quot;:\&quot;CNY\&quot;,\&quot;amount\&quot;:${amount},\&quot;baseCurrencyAmount\&quot;:${amount},\&quot;actualCurrencyRate\&quot;:1,\&quot;companyCurrencyRate\&quot;:1,\&quot;updateRate\&quot;:true,\&quot;rateProhibit\&quot;:false,\&quot;rateWarning\&quot;:false,\&quot;ratePercentage\&quot;:0,\&quot;apportionmentDTOList\&quot;:[{\&quot;entityType\&quot;:${amount}1,\&quot;scale\&quot;:${amount2},\&quot;amount\&quot;:${amount2},\&quot;defaultApportion\&quot;:true,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;pathDepth\&quot;:1,\&quot;costCenterOID\&quot;:\&quot;&quot;+departmentOID+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOID+&quot;\&quot;}]},{\&quot;type\&quot;:0,\&quot;fieldName\&quot;:\&quot;成本中心\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+costCenterName1+&quot;\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOid1+&quot;\&quot;,\&quot;required\&quot;:false,\&quot;costCenter\&quot;:\&quot;&quot;+costCenterOid+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;name\&quot;:\&quot;&quot;+costCenterName1+&quot;\&quot;,\&quot;costCenterItemOID\&quot;:\&quot;&quot;+costCenterOid1+&quot;\&quot;}]}]},{\&quot;entityType\&quot;:${amount}1,\&quot;scale\&quot;:${amount1},\&quot;amount\&quot;:${amount1},\&quot;defaultApportion\&quot;:false,\&quot;costCenterItems\&quot;:[{\&quot;type\&quot;:1,\&quot;fieldName\&quot;:\&quot;部门\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+departmentName+&quot;\&quot;,\&quot;costCenter\&quot;:\&quot;00000000-0000-0000-0000-000000000000\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+departmentOID+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;path\&quot;:\&quot;&quot;+departmentName+&quot;\&quot;,\&quot;departmentOid\&quot;:\&quot;&quot;+departmentOID+&quot;\&quot;}],\&quot;pathDepth\&quot;:1},{\&quot;type\&quot;:0,\&quot;fieldName\&quot;:\&quot;成本中心\&quot;,\&quot;isApportionItem\&quot;:true,\&quot;name\&quot;:\&quot;&quot;+costCenterName2+&quot;\&quot;,\&quot;costCenterOID\&quot;:\&quot;&quot;+costCenterOid2+&quot;\&quot;,\&quot;required\&quot;:false,\&quot;costCenter\&quot;:\&quot;&quot;+costCenterOid+&quot;\&quot;,\&quot;value\&quot;:[{\&quot;name\&quot;:\&quot;&quot;+costCenterName2+&quot;\&quot;,\&quot;costCenterItemOID\&quot;:\&quot;&quot;+costCenterOid2+&quot;\&quot;}]}]}]}],\&quot;amount\&quot;:${amount}}&quot;;





log.info(&quot;feiyong==========&quot;+aa);
vars.put(&quot;feiyong&quot;,aa);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用申请单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存费用申请单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${apFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${apFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${apFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: null,&#xd;
	&quot;formType&quot;: ${apFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${today}T06:44:47Z&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;2018-12-18T06:50:03Z&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;:${customFormFields},&#xd;
	&quot;remark&quot;: &quot;&quot;,&#xd;
	&quot;referenceOID&quot;: &quot;${referenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1001,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: &quot;${companyOID}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId},&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;: ${customFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${customFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1001,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;custFormValues&quot;: ${customform},&#xd;
	&quot;applicant&quot;: null,&#xd;
	&quot;referenceApplicationOID&quot;: &quot;&quot;,&#xd;
	&quot;applicantOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="获取businessCode" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">businessCode</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;businessCode&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取applicantOID;applicationOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicantOID;applicationOID;companyOID;corporationOID;formValueOID0;formValueOID1;formValueOID2;fieldOID0;fieldOID1;fieldOID2;formOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.applicantOID;$.applicationOID;$.companyOID;$.corporationOID;$.custFormValues[0].formValueOID;$.custFormValues[1].formValueOID;$.custFormValues[2].formValueOID;$.custFormValues[0].fieldOID;$.custFormValues[1].fieldOID;$.custFormValues[2].fieldOID;$.custFormValues[0].formOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">apportionmentOID</stringProp>
              <stringProp name="RegexExtractor.regex">apportionmentOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">budgetOID</stringProp>
              <stringProp name="RegexExtractor.regex">budgetOID\\&quot;:\\&quot;([a-zA-Z\d-]+)</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="subCompanyOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.subCompanyOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;customform:&quot;+str);
vars.put(&quot;customform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询费用申请单基础数据" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/application/${applicationOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="获取费用申请单的基础数据" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String submit_data=prev.getResponseDataAsString();
vars.put(&quot;submit_data&quot;,submit_data);
String submitAgin_data=submit_data.replace(&quot;\&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,	&quot;\&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;submitAgin_data&quot;,submitAgin_data);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1282148569">${businessCode}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交-成功" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${submitAgin_data}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/applications/submit/v2</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="false">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="1736315455">{&quot;success&quot;:true,&quot;rows&quot;:null,&quot;passFlag&quot;:true,&quot;checkResultList&quot;:[]}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1760707999">status&quot;:1002,</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批中" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1760707999">status&quot;:1002,</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**beforer**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After***申请单提交后**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**申请单提交后**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="审批通过" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;approvalTxt&quot;: &quot;审批通过test01&quot;,&#xd;
	&quot;entities&quot;: [{&#xd;
		&quot;approverOID&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;entityOID&quot;: &quot;${applicationOID}&quot;,&#xd;
		&quot;entityType&quot;: 1001&#xd;
	}]&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">api/approvals/pass</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-1661343798">${approvalsSuccessful}</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查看申请单状态-审批通过" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="businessCode" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${businessCode}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">businessCode</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/applications/v3/search</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="635939628">status&quot;:1003</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**beforer**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After***申请单审批后**&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expReserveAmount =  expReserveAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**申请单审批后**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询报销表单数据" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询报销单表单" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/my/available?formType=102</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxFormOID;bxFormId;bxFormType" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxFormOID;bxFormId;bxFormType</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.formName==&quot;${bxFormName}&quot;)].formOID;$..[?(@.formName==&quot;${bxFormName}&quot;)].formId;$..[?(@.formName==&quot;${bxFormName}&quot;)].formType</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询表单详情" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/custom/forms/${bxFormOID}?roleType=TENANT</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxSelect_box" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxSelect_box</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldContent&quot;:&quot;(.+?),{</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxCustomFormProperties;bxCustomFormPropertyMap;bxCustomFormFields</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormProperties;$.customFormPropertyMap;$.customFormFields</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxFieldName" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxFieldName</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;fieldName&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">-1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 PostProcessor-2" enabled="false">
              <stringProp name="scriptLanguage">java</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">import java.util.ArrayList;
import org.json.*; 
String fieldName_matchNr = vars.get(&quot;bxFieldName_matchNr&quot;);

int len=Integer.parseInt(fieldName_matchNr);
String response_data=prev.getResponseDataAsString();
JSONObject data_obj= new JSONObject(response_data); 
ArrayList list =new ArrayList(30);
list.add(&quot;${apFormName}&quot;);                     
list.add(&quot;${departmentOID}&quot;);                        		           	
StringBuilder sb = new StringBuilder();
for(int i=0;i&lt;len;i++){
	String  ids= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;id&quot;).toString();
	String  fieldOIDs= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldOID&quot;).toString();
	String  messageKeys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;messageKey&quot;).toString();
	String  fieldNames= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldName&quot;).toString();
	String  fieldTypes= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldType&quot;).toString();
	String  reportShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;reportShow&quot;).toString();
	String  isPDFShows= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;isPDFShow&quot;).toString();
	String  requireds= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;required&quot;).toString();
	String  readonlys= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;readonly&quot;).toString();
	String  dataSources= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;dataSource&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldConstraints= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldConstraint&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;);
	String  fieldContents= data_obj.get(&quot;customFormFields&quot;).get(i).get(&quot;fieldContent&quot;).toString().replace(&quot;\&quot;&quot;,&quot;\\\\\&quot;&quot;).replace(&quot;\n&quot;,&quot;\\\\n&quot;);
	String valueKey=list.get(i).toString();
     String sd1=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null},&quot;;
      String sd2=&quot;{\&quot;id\&quot;:\&quot;&quot;+ids+&quot;\&quot;,\&quot;fieldOID\&quot;:\&quot;&quot;+fieldOIDs+&quot;\&quot;,\&quot;sequence\&quot;:&quot;+i+&quot;,\&quot;messageKey\&quot;:\&quot;&quot;+messageKeys+&quot;\&quot;,\&quot;formId\&quot;:null,\&quot;fieldName\&quot;:\&quot;&quot;+fieldNames+&quot;\&quot;,\&quot;fieldType\&quot;: \&quot;&quot;+fieldTypes+&quot;\&quot;,\&quot;dataSource\&quot;:\&quot;&quot;+dataSources+&quot;\&quot;,\&quot;valid\&quot;: true,\&quot;required\&quot;: &quot;+requireds+&quot;,\&quot;createdDate\&quot;: null,\&quot;lastModifiedDate\&quot;: null,\&quot;promptInfo\&quot;: \&quot;\&quot;,\&quot;fieldConstraint\&quot;: \&quot;&quot;+fieldConstraints+&quot;\&quot;,\&quot;readonly\&quot;: &quot;+readonlys+&quot;,\&quot;isReadOnly\&quot;: false,\&quot;guiWidgetId\&quot;: null,\&quot;value\&quot;:\&quot;&quot;+valueKey+&quot;\&quot;,\&quot;fieldContent\&quot;:\&quot;&quot;+fieldContents+&quot;\&quot;,\&quot;fieldCode\&quot;: null,\&quot;isPDFShow\&quot;: &quot;+isPDFShows+&quot;,\&quot;reportShow\&quot;: &quot;+reportShows+&quot;,\&quot;reportOrmKey\&quot;: null,\&quot;formOID\&quot;: \&quot;${bxFormOID}\&quot;,\&quot;i18n\&quot;: null}&quot;;
	if(i == len-1){
		sb.append(sd2);
	}else{
		sb.append(sd1);
	}		
}
String bxCustomform=sb.toString().replaceAll(&quot;\&quot;null\&quot;&quot;,&quot;null&quot;);
String bxCustomform=&quot;[&quot;+bxCustomform+&quot;]&quot;;
log.info(&quot;bxCustomform==&quot;+bxCustomform);
vars.put(&quot;bxCustomform&quot;,bxCustomform);</stringProp>
            </JSR223PostProcessor>
            <hashTree/>
            <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="bxReferenceOID" enabled="true">
              <stringProp name="RegexExtractor.useHeaders">false</stringProp>
              <stringProp name="RegexExtractor.refname">bxReferenceOID</stringProp>
              <stringProp name="RegexExtractor.regex">&quot;referenceOID&quot;:&quot;(.+?)&quot;,</stringProp>
              <stringProp name="RegexExtractor.template">$1$</stringProp>
              <stringProp name="RegexExtractor.default">Not found</stringProp>
              <stringProp name="RegexExtractor.match_number">1</stringProp>
            </RegexExtractor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">8</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取报销单信息" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">customFormFields;referenceOID;tenantId;setOfBooksId;customFormProperties;customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.customFormFields;$.referenceOID;$.tenantId;$.setOfBooksId;$.customFormProperties;$.customFormPropertyMap</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">null;null;null;null;null;null</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="费用报销单" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新建费用报销单" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;formOID&quot;: &quot;${bxFormOID}&quot;,&#xd;
	&quot;id&quot;: &quot;${bxFormId}&quot;,&#xd;
	&quot;formName&quot;: &quot;${bxFormName}&quot;,&#xd;
	&quot;iconName&quot;: &quot;&quot;,&#xd;
	&quot;iconUrl&quot;: null,&#xd;
	&quot;messageKey&quot;: &quot;&quot;,&#xd;
	&quot;formType&quot;: ${bxFormType},&#xd;
	&quot;asSystem&quot;: false,&#xd;
	&quot;valid&quot;: true,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;lastModifiedDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;parentOID&quot;: null,&#xd;
	&quot;associateExpenseReport&quot;: true,&#xd;
	&quot;customFormFields&quot;: ${customFormFields},&#xd;
	&quot;remark&quot;: null,&#xd;
	&quot;referenceOID&quot;: &quot;${bxReferenceOID}&quot;,&#xd;
	&quot;groupOIDs&quot;: [],&#xd;
	&quot;visibleExpenseTypeScope&quot;: 1004,&#xd;
	&quot;expenseTypeOIDs&quot;: [],&#xd;
	&quot;expenseReport&quot;: null,&#xd;
	&quot;formCode&quot;: null,&#xd;
	&quot;companyOID&quot;: null,&#xd;
	&quot;companyId&quot;: null,&#xd;
	&quot;travelManageType&quot;: null,&#xd;
	&quot;controlFields&quot;: null,&#xd;
	&quot;customFormProperties&quot;:${bxCustomFormProperties},&#xd;
	&quot;customFormPropertyMap&quot;:${bxCustomFormPropertyMap},&#xd;
	&quot;expenseTypeCheckStatus&quot;: null,&#xd;
	&quot;proxyForm&quot;: false,&#xd;
	&quot;i18n&quot;: null,&#xd;
	&quot;tenantId&quot;: &quot;${tenantId}&quot;,&#xd;
	&quot;booksID&quot;: null,&#xd;
	&quot;setOfBooksId&quot;: &quot;${setOfBooksId}&quot;,&#xd;
	&quot;fromType&quot;: 1,&#xd;
	&quot;visibleCompanyScope&quot;: 1,&#xd;
	&quot;companyOIDList&quot;: null,&#xd;
	&quot;companyList&quot;: null,&#xd;
	&quot;companyName&quot;: null,&#xd;
	&quot;budgetEnalbed&quot;: false,&#xd;
	&quot;visibleUserScope&quot;: 1004,&#xd;
	&quot;submit&quot;: false,&#xd;
	&quot;currencySame&quot;: false,&#xd;
	&quot;applicationOID&quot;: &quot;${applicationOID}&quot;,&#xd;
	&quot;custFormValues&quot;: ${bxCustomform}&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/api/expense/reports/custom/form/draft</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取bxBusinessCode;bxCorporationOID;bxExpenseReportOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">bxBusinessCode;bxCorporationOID;bxExpenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$.businessCode;$.corporationOID;$.expenseReportOID</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="49586">200</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">1</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-312141990">&quot;businessCode&quot;:&quot;${bxBusinessCode}&quot;</stringProp>
                <stringProp name="-749828020">&quot;status&quot;:1001</stringProp>
                <stringProp name="2030560658">&quot;rejectType&quot;:1000</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
            <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;customFormFields&quot;);
log.info(&quot;customFormFields:&quot;+json);


JSONArray customFormFields = JSON.parseArray(json);
int size = customFormFields.size();


for (int i = 0; i &lt; size; i++){
		   jj = customFormFields.getJSONObject(i);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;事由&quot;))
           		jj.put(&quot;value&quot;,&quot;日常报销单测试&quot;);
             if (jj.get(&quot;fieldName&quot;).equals(&quot;部门&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;departmentOID&quot;));
             if (jj.get(&quot;fieldName&quot;).equals(&quot;审批人&quot;))
           		jj.put(&quot;value&quot;,vars.get(&quot;userOID&quot;));
            if (jj.get(&quot;fieldName&quot;).equals(&quot;预算明细&quot;))
             {
			String vv=vars.get(&quot;feiyong&quot;);
			log.info(&quot;feiyong===&quot;+vv);
             	jj.put(&quot;value&quot;,vv);
             }

}

String str =customFormFields.toString();
log.info(&quot;NcustomFormFields:&quot;+str);
vars.put(&quot;bxCustomform&quot;,str);

</stringProp>
            </BeanShellPreProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取applicationApportionmentId" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/api/v3/expense/default/apportionment?expenseReportOID=${bxExpenseReportOID}&amp;expenseTypeId=${bxExpenseId}&amp;amount=${amount}&amp;currency=${currency}&amp;ownerOID=${userOID}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="applicationApportionmentId;applicationApportionmentId1;applicationApportionmentId2" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">applicationApportionmentId1;applicationApportionmentId2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$[0].applicationApportionmentId;$[1].applicationApportionmentId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="添加费用" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
	&quot;attachments&quot;: [],&#xd;
	&quot;invoiceStatus&quot;: &quot;INIT&quot;,&#xd;
	&quot;readonly&quot;: false,&#xd;
	&quot;recognized&quot;: false,&#xd;
	&quot;currencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;expenseTypeName&quot;: &quot;${expenseTypeName}&quot;,&#xd;
	&quot;expenseTypeOID&quot;: &quot;${bxExpenseTypeOID}&quot;,&#xd;
	&quot;expenseTypeId&quot;: &quot;${bxExpenseId}&quot;,&#xd;
	&quot;expenseTypeIconName&quot;: &quot;${bxExpenseTypeIconName}&quot;,&#xd;
	&quot;expenseTypeKey&quot;: null,&#xd;
	&quot;amount&quot;: ${amount},&#xd;
	&quot;actualCurrencyRate&quot;: 1,&#xd;
	&quot;createdDate&quot;: &quot;${NewUTCstartDate}&quot;,&#xd;
	&quot;invoiceCurrencyCode&quot;: &quot;${currency}&quot;,&#xd;
	&quot;paymentType&quot;: 1001,&#xd;
	&quot;comment&quot;: &quot;&quot;,&#xd;
	&quot;vatInvoice&quot;: false,&#xd;
	&quot;invoiceInstead&quot;: false,&#xd;
	&quot;digitalInvoice&quot;: null,&#xd;
	&quot;invoiceInsteadReason&quot;: null,&#xd;
	&quot;data&quot;: [],&#xd;
	&quot;baseCurrency&quot;: &quot;${currency}&quot;,&#xd;
	&quot;updateRate&quot;: true,&#xd;
	&quot;expenseApportion&quot;: [{&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount2},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${departmentName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: true,&#xd;
		&quot;isEditable&quot;: false,&#xd;
		&quot;isCostCenterItemEditable&quot;: true,&#xd;
		&quot;proportion&quot;: 0.8,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部门&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName}&quot;&#xd;
		}, {&#xd;
			&quot;fieldName&quot;: &quot;成本中心&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;${costCenterOID}&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${costCenterItemOID1}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${costCenterItem1}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;name&quot;: &quot;${costCenterItem1}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId1},&#xd;
		&quot;index&quot;: 0&#xd;
	}, {&#xd;
		&quot;apportionmentOID&quot;: null,&#xd;
		&quot;expenseOID&quot;: null,&#xd;
		&quot;amount&quot;: ${amount1},&#xd;
		&quot;baseCurrencyAmount&quot;: null,&#xd;
		&quot;relevantPerson&quot;: &quot;${userOID}&quot;,&#xd;
		&quot;personName&quot;: &quot;${departmentName}&quot;,&#xd;
		&quot;personEmployeeID&quot;: null,&#xd;
		&quot;defaultApportion&quot;: false,&#xd;
		&quot;isEditable&quot;: false,&#xd;
		&quot;isCostCenterItemEditable&quot;: true,&#xd;
		&quot;proportion&quot;: 0.2,&#xd;
		&quot;costCenterItems&quot;: [{&#xd;
			&quot;fieldName&quot;: &quot;部门&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${departmentName}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;departmentOid&quot;: &quot;${departmentOID}&quot;,&#xd;
			&quot;name&quot;: &quot;${departmentName}&quot;&#xd;
		}, {&#xd;
			&quot;fieldName&quot;: &quot;成本中心&quot;,&#xd;
			&quot;costCenterOID&quot;: &quot;${costCenterOID}&quot;,&#xd;
			&quot;costCenterItemOID&quot;: &quot;${costCenterItemOID2}&quot;,&#xd;
			&quot;costCenterItemName&quot;: &quot;${costCenterItem2}&quot;,&#xd;
			&quot;required&quot;: null,&#xd;
			&quot;itemCode&quot;: &quot;&quot;,&#xd;
			&quot;name&quot;: &quot;${costCenterItem2}&quot;&#xd;
		}],&#xd;
		&quot;applicationApportionmentId&quot;: ${applicationApportionmentId2},&#xd;
		&quot;index&quot;: 1&#xd;
	}],&#xd;
	&quot;expenseReportOID&quot;: &quot;${bxExpenseReportOID}&quot;,&#xd;
	&quot;ownerOID&quot;: &quot;${userOID}&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/invoice/api/v5/invoices</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取expenseTypeInvoiceOID" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">expenseTypeAirInvoiceOID;expenseTypeAirIconURL;expenseTypeAirCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..[?(@.expenseTypeName==&quot;机票&quot;)].invoiceOID;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeIconURL;$..[?(@.expenseTypeName==&quot;机票&quot;)].expenseTypeCategorySimpleDTO</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
              <collectionProp name="HeaderManager.headers">
                <elementProp name="Content-Type" elementType="Header">
                  <stringProp name="Header.name">Content-Type</stringProp>
                  <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
                </elementProp>
              </collectionProp>
            </HeaderManager>
            <hashTree/>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-547797305">&quot;success&quot;:true</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">2</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="报销单警告提交" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/reports/${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="需要报销单提交需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">draft;businessCode</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows;$.rows.businessCode</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL;NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取后续需要的参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">bxCustFormValues;bxExpenseReportInvoices;bxInvoiceGroups;bxExpenseTypes;applicantOID;userOID;applicantName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.custFormValues;$.rows.expenseReportInvoices;$.rows.invoiceGroups;$.rows.expenseTypes;$.rows.applicantOID;$.rows.applicantOID;$.rows.applicantName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
                <stringProp name="TestPlan.comments">expenseReportInvoices</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取报销单费用详情" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/expense/report/invoices?expenseReportOID=${bxExpenseReportOID}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON Extractor" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">NULL</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell PostProcessor" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;expenseReportInvoices&quot;);
String detal = vars.get(&quot;draft&quot;);


JSONArray expenseReportInvoices = JSON.parseArray(json);
JSONObject draft = JSON.parseObject(detal);
draft.put(&quot;expenseReportInvoices&quot;,expenseReportInvoices);
String str =draft.toString();
vars.put(&quot;draft&quot;,str);


</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="获取修改参数" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">invoiceOID;expenseTypeId;expenseTypeOID;expenseTypeCategoryOID;apportionmentOID;costCenterOID;costCenterItemOID;expenseReportOID;originalAmount;preCreatedDate;companyOID</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.rows.expenseReportInvoices[0].invoiceOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeId;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeOID;$.rows.expenseReportInvoices[0].invoiceView.expenseTypeCategorySimpleDTO.expenseTypeCategoryOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].apportionmentOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterOID;$.rows.expenseReportInvoices[0].invoiceView.expenseApportion[0].costCenterItems[0].costCenterItemOID;$.rows.custFormValues[0].bizOID;$.rows.expenseReportInvoices[0].invoiceView.originalAmount;$.rows.expenseReportInvoices[0].invoiceView.createdDate;$.rows.companyOID</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">${draft}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="49586">200</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">8</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="拿到提交响应" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">checkResultList</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.checkResultList[0].externalPropertyName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">null</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1260657473">${warnTip}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
                <stringProp name="Assertion.custom_message"></stringProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="报销单提交" enabled="true">
              <stringProp name="IfController.condition">&quot;${checkResultList}&quot;  !=&quot;null&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="报销单提交" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${AllDetalNew2}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/api/v3/expense/report/submit</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="状态响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_code</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">8</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="加强制提交" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
String json = vars.get(&quot;draft&quot;);

json = json.replaceAll(&quot;ignoreBudgetWarningFlag\&quot;:false&quot;,&quot;ignoreBudgetWarningFlag\&quot;:true&quot;);
vars.put(&quot;AllDetalNew2&quot;,json);

</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="文本断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="699540342">${bxSuccessful}</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询预算余额_公司预算" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交查询参数" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;versionId&quot;: &quot;${versionId}&quot;,&#xd;
	&quot;structureId&quot;: &quot;${structureId}&quot;,&#xd;
	&quot;scenarioId&quot;: &quot;${scenarioId}&quot;,&#xd;
	&quot;yearLimit&quot;: &quot;${periodYear}&quot;,&#xd;
	&quot;periodLowerLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;periodUpperLimit&quot;: &quot;${periodName}&quot;,&#xd;
	&quot;quarterLowerLimit&quot;: null,&#xd;
	&quot;quarterUpperLimit&quot;: null,&#xd;
	&quot;periodSummaryFlag&quot;: false,&#xd;
	&quot;amountQuarterFlag&quot;: &quot;AMOUNT&quot;,&#xd;
	&quot;queryLineList&quot;: [{&#xd;
		&quot;isAll&quot;: false,&#xd;
		&quot;parameterType&quot;: &quot;BGT_RULE_PARAMETER_ORG&quot;,&#xd;
		&quot;parameterCode&quot;: &quot;COMPANY&quot;,&#xd;
		&quot;queryParameterList&quot;: [{&#xd;
			&quot;parameterValueId&quot;: ${companyId},&#xd;
			&quot;parameterValueCode&quot;: &quot;${companyCode}&quot;,&#xd;
			&quot;parameterValueName&quot;: &quot;${companyName}&quot;&#xd;
		}]&#xd;
	}],&#xd;
	&quot;organizationId&quot;: &quot;${organizationId}&quot;,&#xd;
	&quot;companyId&quot;: ${companyId}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/header/user</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">queryID</stringProp>
                <stringProp name="RegexExtractor.regex">&quot;(.*)&quot;</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default">Not found</stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询预算余额" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/budget-service/api/budget/balance/query/results/${queryID}?page=0&amp;size=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">totalNumber1;bgtAmount1;expReserveAmount1;expUsedAmount1;expAvailableAmount1</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.queryResultCurrencyList[0].totalNumber;$.queryResultCurrencyList[0].bgtAmount;$.queryResultCurrencyList[0].expReserveAmount;$.queryResultCurrencyList[0].expUsedAmount;$.queryResultCurrencyList[0].expAvailableAmount</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers"></stringProp>
                <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                <stringProp name="JSONPostProcessor.defaultValues">Not found;Not found;Not found;Not found;Not found</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">/*before*/
//总预算
Double bgtAmount = Double.parseDouble(&quot;${bgtAmount}&quot;);
//总保留
Double expReserveAmount = Double.parseDouble(&quot;${expReserveAmount}&quot;);
//总发生
Double expUsedAmount = Double.parseDouble(&quot;${expUsedAmount}&quot;);
//总可用
Double expAvailableAmount = Double.parseDouble(&quot;${expAvailableAmount}&quot;);
log.info(&quot;**before**&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*After*/
//总预算
Double bgtAmount1 = Double.parseDouble(&quot;${bgtAmount1}&quot;);
//总保留
Double expReserveAmount1 = Double.parseDouble(&quot;${expReserveAmount1}&quot;);
//总发生
Double expUsedAmount1 = Double.parseDouble(&quot;${expUsedAmount1}&quot;);
//总可用
Double expAvailableAmount1 = Double.parseDouble(&quot;${expAvailableAmount1}&quot;);
log.info(&quot;**After**报销单提交后&quot;+bgtAmount1+&quot;***&quot;+expReserveAmount1+&quot;***&quot;+expUsedAmount1+&quot;***&quot;+expAvailableAmount1);
/*申请单金额*/
Double amount =Double.parseDouble(&quot;${amount}&quot;);
log.info(&quot;*****报销单金额*****&quot;+amount);
/*预算逻辑*/
expUsedAmount =  expUsedAmount+amount;
expAvailableAmount = expAvailableAmount-amount;
log.info(&quot;**计算后金额**报销单提交后&quot;+bgtAmount+&quot;***&quot;+expReserveAmount+&quot;***&quot;+expUsedAmount+&quot;***&quot;+expAvailableAmount);
/*断言*/
if(bgtAmount.equals(bgtAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expUsedAmount.equals(expUsedAmount1)&amp;&amp;expAvailableAmount.equals(expAvailableAmount1)){
	FailureMessage = &quot;ok!&quot;; 
	}
	else{
		  Failure=true;
   		  FailureMessage = &quot;error, YS  check fail&quot;;	 
   		  return;
	}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
